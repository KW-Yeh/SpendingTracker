module.exports=[24868,(e,t,r)=>{t.exports=e.x("fs/promises",()=>require("fs/promises"))},21517,(e,t,r)=>{t.exports=e.x("http",()=>require("http"))},25145,e=>{"use strict";var t=e.i(47797);e.s(["toUtf8",0,e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,t.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}])},45786,e=>{"use strict";var t=e.i(12764),r=e.i(47797),o=e.i(88947),a=e.i(49151);let n=async e=>"function"==typeof Blob&&e instanceof Blob||e.constructor?.name==="Blob"?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await e.arrayBuffer()):s(e):i(e);async function s(e){var t;let r=await (t=e,new Promise((e,r)=>{let o=new FileReader;o.onloadend=()=>{if(2!==o.readyState)return r(Error("Reader aborted too early"));let t=o.result??"",a=t.indexOf(","),n=a>-1?a+1:t.length;e(t.substring(n))},o.onabort=()=>r(Error("Read aborted")),o.onerror=()=>r(o.error),o.readAsDataURL(t)}));return new Uint8Array((0,a.fromBase64)(r))}async function i(e){let t=[],r=e.getReader(),o=!1,a=0;for(;!o;){let{done:e,value:n}=await r.read();n&&(t.push(n),a+=n.length),o=e}let n=new Uint8Array(a),s=0;for(let e of t)n.set(e,s),s+=e.length;return n}var l=e.i(71225),c=e.i(83784),f=e.i(25145);let d=e=>"function"==typeof ReadableStream&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),u="The stream has already been transformed.",h=e=>"function"==typeof Blob&&e instanceof Blob,p="The stream has already been transformed.";e.s(["sdkStreamMixin",0,e=>{if(!(e instanceof o.Readable))try{if(!h(e)&&!d(e)){let t=e?.__proto__?.constructor?.name||e;throw Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${t}`)}let t=!1,r=async()=>{if(t)throw Error(u);return t=!0,await n(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async e=>{let t=await r();if("base64"===e)return(0,l.toBase64)(t);if("hex"===e)return(0,c.toHex)(t);if(void 0===e||"utf8"===e||"utf-8"===e)return(0,f.toUtf8)(t);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(t);throw Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw Error(u);if(t=!0,h(e)){if("function"!=typeof e.stream)throw Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()}if(d(e))return e;throw Error(`Cannot transform payload to web stream, got ${e}`)}})}catch(r){let t=e?.__proto__?.constructor?.name||e;throw Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${t}`)}let a=!1,s=async()=>{if(a)throw Error(p);return a=!0,await (0,t.streamCollector)(e)};return Object.assign(e,{transformToByteArray:s,transformToString:async e=>{let t=await s();return void 0===e||Buffer.isEncoding(e)?(0,r.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString(e):new TextDecoder(e).decode(t)},transformToWebStream:()=>{if(a)throw Error(p);if(null!==e.readableFlowing)throw Error("The stream has been consumed by other callbacks.");if("function"!=typeof o.Readable.toWeb)throw Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return a=!0,o.Readable.toWeb(e)}})}],45786)},38788,e=>{"use strict";e.s([],97329),e.i(97329);var t=e.i(9212),r=e.i(84912),o=e.i(60400),a=e.i(24868),n=e.i(89073),s=e.i(19898),i=e.i(45786);async function l(e,t){let r=(0,i.sdkStreamMixin)(e.body),a=await r.transformToString();if(200===e.statusCode){let e=JSON.parse(a);if("string"!=typeof e.AccessKeyId||"string"!=typeof e.SecretAccessKey||"string"!=typeof e.Token||"string"!=typeof e.Expiration)throw new o.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:(0,s.parseRfc3339DateTime)(e.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let r={};try{r=JSON.parse(a)}catch(e){}throw Object.assign(new o.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:r.Code,Message:r.Message})}throw new o.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}e.s(["fromHttp",0,(e={})=>{let s,i,c,f;e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let d=e.awsContainerCredentialsRelativeUri??process.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI,u=e.awsContainerCredentialsFullUri??process.env.AWS_CONTAINER_CREDENTIALS_FULL_URI,h=e.awsContainerAuthorizationToken??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN,p=e.awsContainerAuthorizationTokenFile??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE,m=e.logger?.constructor?.name!=="NoOpLogger"&&e.logger?.warn?e.logger.warn.bind(e.logger):console.warn;if(d&&u&&(m("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),m("awsContainerCredentialsFullUri will take precedence.")),h&&p&&(m("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),m("awsContainerAuthorizationToken will take precedence.")),u)s=u;else if(d)s=`http://169.254.170.2${d}`;else throw new o.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let y=new URL(s);((e,t)=>{if("https:"!==e.protocol&&"169.254.170.2"!==e.hostname&&"169.254.170.23"!==e.hostname&&"[fd00:ec2::23]"!==e.hostname){if(e.hostname.includes("[")){if("[::1]"===e.hostname||"[0000:0000:0000:0000:0000:0000:0000:0001]"===e.hostname)return}else{if("localhost"===e.hostname)return;let t=e.hostname.split("."),r=e=>{let t=parseInt(e,10);return 0<=t&&t<=255};if("127"===t[0]&&r(t[1])&&r(t[2])&&r(t[3])&&4===t.length)return}throw new o.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}})(y,e.logger);let w=r.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return i=async()=>{let r=new n.HttpRequest({protocol:y.protocol,hostname:y.hostname,port:Number(y.port),path:y.pathname,query:Array.from(y.searchParams.entries()).reduce((e,[t,r])=>(e[t]=r,e),{}),fragment:y.hash});h?r.headers.Authorization=h:p&&(r.headers.Authorization=(await a.default.readFile(p)).toString());try{let e=await w.handle(r);return l(e.response).then(e=>(0,t.setCredentialFeature)(e,"CREDENTIALS_HTTP","z"))}catch(t){throw new o.CredentialsProviderError(String(t),{logger:e.logger})}},c=e.maxRetries??3,f=e.timeout??1e3,async()=>{for(let e=0;e<c;++e)try{return await i()}catch(e){await new Promise(e=>setTimeout(e,f))}return await i()}}],38788)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__045059a3._.js.map