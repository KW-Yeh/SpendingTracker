module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},8591,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(72131);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},92434,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},41879,a=>{"use strict";var b,c=a.i(87924);let d=a=>(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-caret-down-fill",viewBox:"0 0 16 16",...a,children:(0,c.jsx)("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})});var e=a.i(51275),f=a.i(72131),g=((b=g||{}).Up="Up",b.Down="Down",b.Left="Left",b.Right="Right",b);let h=a=>{let{children:b,className:g="",caretStyle:h="",menuStyle:m="",onChange:n,value:o,label:p,name:q}=a,[r,s]=(0,f.useState)(!1),[t,u]=(0,f.useState)(0),[v,w]=(0,f.useState)("Down"),[x,y]=(0,f.useState)("Left"),z=(0,e.default)(()=>{s(!1)}),A=(0,f.useCallback)(()=>{let a=z.current;if(a){let b=j(a);w(b),y(k(a)),u(l(a,b))}},[z]);return(0,f.useEffect)(()=>(z.current&&(A(),window.addEventListener("scroll",A),window.addEventListener("animationend",A)),()=>{window.removeEventListener("scroll",A),window.removeEventListener("animationend",A)}),[z,A]),(0,c.jsxs)(i.Provider,{value:{onChange:n,value:o,close:()=>s(!1)},children:[(0,c.jsxs)("div",{ref:z,className:"relative w-full",children:[(0,c.jsxs)("button",{className:`${g} flex items-center justify-between gap-1`,type:"button",onClick:()=>s(a=>!a),children:[(p||o)&&(0,c.jsx)("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap",children:p??o}),(0,c.jsx)(d,{className:`size-2 shrink-0 ${h}`})]}),(0,c.jsx)("div",{className:`${"Down"===v?"top-full mt-1":"bottom-full mb-1"} ${"Left"===x?"right-0":"left-0"} bg-background absolute z-40 w-fit overflow-hidden rounded-lg border border-solid border-gray-300 py-2 shadow transition-all ${r?"visible opacity-100":"invisible opacity-0"}`,style:{minWidth:(z.current?.clientWidth??0)-8+"px",maxHeight:t+"px"},children:(0,c.jsx)("div",{className:`${m} scrollbar flex h-full w-full flex-col overflow-x-hidden overflow-y-auto`,style:{maxHeight:t-8+"px"},children:b})})]}),(0,c.jsx)("input",{value:o,name:q,className:"hidden",readOnly:!0})]})},i=(0,f.createContext)({onChange:()=>{},value:void 0,close:()=>{}});h.Item=({className:a="",value:b,children:d})=>{let{value:e,onChange:g,close:h}=(0,f.useContext)(i);return(0,c.jsx)("button",{type:"button",onClick:()=>{g(b),h()},className:`flex w-full px-4 py-2 transition-colors ${a} ${e===b?"bg-primary-100":"hover:bg-primary-100"}`,children:(0,c.jsx)("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap",children:d})})};let j=a=>{let b=a.getBoundingClientRect().bottom-a.getBoundingClientRect().top;return a.getBoundingClientRect().top<(window.innerHeight-b)/2?"Down":"Up"},k=a=>{let b=a.getBoundingClientRect().right-a.getBoundingClientRect().left;return a.getBoundingClientRect().left<(window.innerWidth-b)/2?"Right":"Left"},l=(a,b)=>"Down"===b?window.innerHeight-a.getBoundingClientRect().bottom-24:a.getBoundingClientRect().top-24;a.s(["Select",0,h],41879)},78653,a=>{"use strict";var b=a.i(87924),c=a.i(18402),d=a.i(72131);let e=(0,d.createContext)({date:new Date,setDate:()=>{}});a.s(["DateProvider",0,({children:a})=>{let[f,g]=(a=>{let{data:b}=(0,c.useSession)(),[e,f]=(0,d.useState)(a??new Date),g=(0,d.useRef)(a??new Date);return(0,d.useEffect)(()=>{g.current.getDate()!==new Date().getDate()&&(f(new Date),g.current=new Date)},[b]),[e,f]})(new Date),h=(0,d.useMemo)(()=>({date:f,setDate:g}),[f,g]);return(0,b.jsx)(e.Provider,{value:h,children:a})},"useDateCtx",0,()=>(0,d.useContext)(e)],78653)},62566,a=>{"use strict";var b=a.i(87924);let c="/api/aurora/favorite-categories",d=async a=>{try{if(!a)return{status:!1,data:null,message:"ç¼ºå°‘ä½¿ç”¨è€… ID"};let b=await fetch(`${c}?owner_id=${a}`).then(a=>a.json());return{status:!0,data:b,message:"success"}}catch(a){return console.error(a),{status:!1,data:null,message:"ç™¼ç”Ÿä¸é æœŸçš„éŒ¯èª¤"}}},e=async a=>{try{let b=await fetch(c,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(a=>a.json());return{status:!0,data:b,message:"success"}}catch(a){return console.error(a),{status:!1,message:"ç™¼ç”Ÿä¸é æœŸçš„éŒ¯èª¤"}}},f={"ðŸ”":"food","ðŸ‘—":"clothing","ðŸ ":"housing","ðŸš—":"transportation","ðŸ“š":"education","ðŸŽ²":"entertainment","ðŸ§»":"daily","ðŸ’Š":"medical","ðŸ“‰":"investment","ðŸ“ˆ":"investment","ðŸ’°":"salary","ðŸŽ":"bonus","âœ¨":"other"};function g(a,b){if(!a)return[];let c=f[b];if(!c)return[];let d=a[c];return d&&""!==d.trim()?d.split(",").map(a=>a.trim()).filter(a=>""!==a):[]}function h(a,b,c){let d=f[b];if(!d)throw Error("ç„¡æ•ˆçš„é¡žåˆ¥");return{...a,[d]:c.join(",")}}var i=a.i(72131);let j=(0,i.createContext)({loading:!0,favorites:null,syncFavorites:()=>{},updateFavorites:async()=>{},getCategoryDescriptions:()=>[],addCategoryDescription:async()=>{},removeCategoryDescription:async()=>{}});a.s(["FavoriteCategoriesProvider",0,({children:a})=>{let[c,f]=(0,i.useState)(!0),[k,l]=(0,i.useState)(null),m=(0,i.useCallback)(a=>{l(a),f(!1)},[]),n=(0,i.useCallback)(a=>{f(!0),d(a).then(a=>{a.status?m(a.data):m(null)}).catch(a=>{console.error(a),m(null)})},[m]),o=(0,i.useCallback)(async a=>{f(!0);let b=await e(a);b.status&&b.data?m(b.data):f(!1)},[m]),p=(0,i.useCallback)(a=>g(k,a),[k]),q=(0,i.useCallback)(async(a,b,c)=>{let d=g(k,a);if(d.includes(b))return;let e=h(k,a,[...d,b]);await o({owner_id:c,...e})},[k,o]),r=(0,i.useCallback)(async(a,b,c)=>{let d=g(k,a).filter(a=>a!==b),e=h(k,a,d);await o({owner_id:c,...e})},[k,o]),s=(0,i.useMemo)(()=>({loading:c,favorites:k,syncFavorites:n,updateFavorites:o,getCategoryDescriptions:p,addCategoryDescription:q,removeCategoryDescription:r}),[c,k,n,o,p,q,r]);return(0,b.jsx)(j.Provider,{value:s,children:a})},"useFavoriteCategoriesCtx",0,()=>(0,i.useContext)(j)],62566)},88293,a=>{"use strict";var b=a.i(87924);function c({user:a}){let c=a?.name?a.name.charAt(0).toUpperCase():"U";return a?.avatar_url?(0,b.jsx)("div",{className:"flex size-full items-center justify-center overflow-hidden rounded-full",children:(0,b.jsx)("img",{src:a.avatar_url,alt:a.name||"User avatar",className:"size-full object-cover"})}):(0,b.jsx)("div",{className:"bg-primary-100 flex size-full items-center justify-center rounded-full",children:(0,b.jsx)("span",{className:"text-primary-500 text-2xl font-bold",children:c})})}a.s(["UserAvatar",()=>c])},27950,50898,95077,51703,a=>{"use strict";var b=a.i(87924);a.s(["BarChartIcon",0,a=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-bar-chart",viewBox:"0 0 16 16",...a,children:(0,b.jsx)("path",{d:"M4 11H2v3h2zm5-4H7v7h2zm5-5v12h-2V2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm-5 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1z"})})],27950),a.s(["BookIcon",0,a=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-book",viewBox:"0 0 16 16",...a,children:(0,b.jsx)("path",{d:"M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"})})],50898),a.s(["CoinIcon",0,a=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-coin",viewBox:"0 0 16 16",...a,children:[(0,b.jsx)("path",{d:"M5.5 9.511c.076.954.83 1.697 2.182 1.785V12h.6v-.709c1.4-.098 2.218-.846 2.218-1.932 0-.987-.626-1.496-1.745-1.76l-.473-.112V5.57c.6.068.982.396 1.074.85h1.052c-.076-.919-.864-1.638-2.126-1.716V4h-.6v.719c-1.195.117-2.01.836-2.01 1.853 0 .9.606 1.472 1.613 1.707l.397.098v2.034c-.615-.093-1.022-.43-1.114-.9zm2.177-2.166c-.59-.137-.91-.416-.91-.836 0-.47.345-.822.915-.925v1.76h-.005zm.692 1.193c.717.166 1.048.435 1.048.91 0 .542-.412.914-1.135.982V8.518z"}),(0,b.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),(0,b.jsx)("path",{d:"M8 13.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11m0 .5A6 6 0 1 0 8 2a6 6 0 0 0 0 12"})]})],95077),a.s(["ListTaskIcon",0,a=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-list-task",viewBox:"0 0 16 16",...a,children:[(0,b.jsx)("path",{fillRule:"evenodd",d:"M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5zM3 3H2v1h1z"}),(0,b.jsx)("path",{d:"M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1z"}),(0,b.jsx)("path",{fillRule:"evenodd",d:"M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5zM2 7h1v1H2zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm1 .5H2v1h1z"})]})],51703)},39847,a=>{"use strict";var b=a.i(87924);a.s(["HomeIcon",0,a=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-house",viewBox:"0 0 16 16",...a,children:(0,b.jsx)("path",{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z"})})])},16698,a=>{"use strict";var b=a.i(87924),c=a.i(27950),d=a.i(50898),e=a.i(95077),f=a.i(39847),g=a.i(51703),h=a.i(71336),i=a.i(38246),j=a.i(50944);let k={"/":(0,b.jsx)(f.HomeIcon,{className:"size-4"}),"/transactions":(0,b.jsx)(g.ListTaskIcon,{className:"size-4"}),"/group":(0,b.jsx)(d.BookIcon,{className:"size-4"}),"/analysis":(0,b.jsx)(c.BarChartIcon,{className:"size-4"}),"/budget":(0,b.jsx)(e.CoinIcon,{className:"size-4"})};a.s(["BottomNav",0,()=>{let a=(0,j.usePathname)();return(0,b.jsx)("nav",{className:"fixed right-4 bottom-5 left-4 z-40 rounded-full bg-white/50 shadow-[0_-2px_16px_rgba(0,0,0,0.1)] backdrop-blur-md md:hidden","aria-label":"Mobile navigation",children:(0,b.jsx)("div",{className:"safe-area-inset-bottom flex items-center justify-around px-2 py-2",children:Object.keys(h.MENU_CONFIG).map(c=>{let d=a===c;return(0,b.jsxs)(i.default,{href:c,className:`flex size-12 flex-col items-center justify-center gap-1 rounded-full transition-colors duration-200 hover:bg-white/50 ${d?"text-primary-500":"active:text-primary-400 text-gray-500 hover:text-gray-700"}`,"aria-label":h.MENU_CONFIG[c],"aria-current":d?"page":void 0,children:[(0,b.jsx)("span",{className:"flex items-center justify-center",children:k[c]}),(0,b.jsx)("span",{className:"text-xs font-medium",children:h.MENU_CONFIG[c]})]},c)})})})}])},37329,a=>{"use strict";var b=a.i(87924),c=a.i(27950),d=a.i(50898),e=a.i(95077),f=a.i(39847),g=a.i(51703);let h=a=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-gear",viewBox:"0 0 16 16",...a,children:[(0,b.jsx)("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"}),(0,b.jsx)("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"})]});var i=a.i(88293),j=a.i(90419),k=a.i(51275),l=a.i(71336),m=a.i(38246),n=a.i(50944),o=a.i(72131);let p=a=>{let{isOpen:c,onClose:d}=a,{config:e}=(0,j.useUserConfigCtx)(),f=(0,o.useRef)(null),g=(0,k.default)(()=>{d(),n()}),n=(0,o.useCallback)(()=>{(0,o.startTransition)(()=>{f.current&&g.current&&(f.current.style.right="100%",g.current.style.left="-300px")})},[g]),p=(0,o.useCallback)(()=>{(0,o.startTransition)(()=>{f.current&&g.current&&(f.current.style.right="0",g.current.style.left="0")})},[g]);return(0,o.useEffect)(()=>{c?p():n()},[n,c,p]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{ref:f,className:"fixed top-0 right-full bottom-0 left-0 z-50 bg-black/50 max-md:hidden"}),(0,b.jsxs)("aside",{ref:g,className:"bg-background fixed top-0 bottom-0 -left-72 z-50 flex max-md:hidden w-72 origin-right flex-col items-center justify-between shadow-[1px_0_16px_0px_black] transition-all",children:[(0,b.jsx)("div",{className:"gradient-r-from-purple-to-blue clip-profile-bg absolute h-30 w-full"}),(0,b.jsx)("div",{className:"relative flex w-full flex-col items-center pt-17",children:(0,b.jsx)(m.default,{href:"/profile",onClick:d,className:"bg-background flex size-20 items-center justify-center rounded-full p-1 transition-all hover:scale-105 active:scale-95",children:(0,b.jsx)(i.UserAvatar,{user:e})})}),(0,b.jsxs)("div",{className:"mt-4 flex w-full flex-col items-center px-4",children:[(0,b.jsx)("h3",{className:"max-w-70 overflow-hidden text-base font-bold text-ellipsis whitespace-nowrap",children:e?e.name:"å°šæœªç™»å…¥"}),(0,b.jsx)("p",{className:"max-w-70 overflow-hidden text-xs text-ellipsis whitespace-nowrap text-gray-500",children:e?e.email:"å°šæœªç™»å…¥"})]}),(0,b.jsx)("div",{className:"flex h-px w-full items-center px-4 py-5",children:(0,b.jsx)("span",{className:"h-px w-full bg-gray-200"})}),(0,b.jsx)("div",{className:"flex w-full flex-1 flex-col items-center gap-2 px-4",children:Object.keys(l.MENU_CONFIG).map(a=>(0,b.jsx)(r,{href:a,label:l.MENU_CONFIG[a],onClick:d},a))}),(0,b.jsx)("div",{className:"w-full border-t border-solid border-gray-300 px-4 py-2",children:(0,b.jsx)(r,{href:"/setting",onClick:d,label:"è¨­å®š",icon:(0,b.jsx)(h,{className:"mr-3 size-4 sm:mr-4"})})})]}),(0,b.jsx)("svg",{width:"0",height:"0",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)("defs",{children:(0,b.jsx)("clipPath",{id:"clip-profile-bg",clipPathUnits:"userSpaceOnUse",children:(0,b.jsx)("path",{d:"M 0,0 L 288,0 L 288,120 L 194,120 A 10,10 0,0,1 184,110 A 40,40 0,0,0 104,110 A 10,10 0,0,1 94,120 L 0,120 L 0,0 Z"})})})})]})},q={"/":(0,b.jsx)(f.HomeIcon,{className:"mr-3 size-4 sm:mr-4"}),"/transactions":(0,b.jsx)(g.ListTaskIcon,{className:"mr-3 size-4 sm:mr-4"}),"/analysis":(0,b.jsx)(c.BarChartIcon,{className:"mr-3 size-4 sm:mr-4"}),"/budget":(0,b.jsx)(e.CoinIcon,{className:"mr-3 size-4 sm:mr-4"}),"/group":(0,b.jsx)(d.BookIcon,{className:"mr-3 size-4 sm:mr-4"})},r=({href:a,icon:c,label:d,onClick:e})=>{let f=(0,n.usePathname)();return a?(0,b.jsxs)(m.default,{href:a,onClick:e,className:`flex w-full items-center rounded-md px-5 py-3 text-left text-sm font-semibold transition-all sm:text-base ${f===a?"bg-primary-100":"active:bg-primary-100 hover:bg-primary-100"}`,children:[c??q[a],d]}):(0,b.jsxs)("button",{onClick:e,className:"active:bg-primary-100 hover:bg-primary-100 flex w-full items-center rounded-md px-5 py-3 text-left text-sm font-semibold transition-all sm:text-base",children:[c,d]})};var s=a.i(41879),t=a.i(10584),u=a.i(99283);let v=({className:a=""})=>{let{loading:c,groups:d,currentGroup:e,setCurrentGroup:f}=(0,t.useGroupCtx)(),g=(0,o.useCallback)(a=>{let b=d.find(b=>String(b.account_id)===a);b&&((0,u.setCookie)("currentGroupId",String(b.account_id),{expires:new Date(Date.now()+6048e5)}),f(b))},[d,f]);return(0,b.jsx)(s.Select,{name:"group",value:e?.name??"è¼‰å…¥å¸³æœ¬è³‡è¨Šä¸­...",onChange:g,className:`max-w-50 rounded-full border border-solid border-gray-300 px-3 py-1 transition-colors active:border-gray-500 sm:hover:border-gray-500 ${a}`,children:!c&&d.map(a=>a.account_id&&(0,b.jsx)(s.Select.Item,{value:a.account_id.toString(),className:"text-sm",children:a.name},a.account_id))})},w=a=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-list",viewBox:"0 0 16 16",...a,children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})}),x=a=>{let{openAside:c}=a;return(0,b.jsx)("button",{onClick:c,className:"size-8 max-md:hidden rounded-full p-1 transition-colors hover:bg-primary-100 active:bg-primary-100",children:(0,b.jsx)(w,{className:"size-full"})})},y=({openAside:a})=>{let{config:c}=(0,j.useUserConfigCtx)();return(0,b.jsx)("div",{className:"sticky top-0 left-0 z-40 w-full bg-white/50 p-4 shadow backdrop-blur",children:(0,b.jsxs)("div",{className:"relative flex items-center gap-3",children:[(0,b.jsx)(x,{openAside:a}),(0,b.jsxs)(m.default,{href:"/profile",className:"flex items-center gap-2 md:hidden",children:[(0,b.jsx)("div",{className:"size-8 shrink-0",children:(0,b.jsx)(i.UserAvatar,{user:c})}),(0,b.jsxs)("span",{className:"text-sm font-semibold whitespace-nowrap",children:["å“ˆæ‘Ÿï¼Œ",c?.name||"è¨ªå®¢","ï¼"]})]}),(0,b.jsx)("div",{className:"ml-auto",children:(0,b.jsx)(v,{className:"max-w-80 font-bold"})})]})})};a.s(["Header",0,()=>{let[a,c]=(0,o.useState)(!1);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y,{openAside:()=>c(!0)}),(0,b.jsx)(p,{isOpen:a,onClose:()=>c(!1)})]})}],37329)},54748,a=>{"use strict";var b=a.i(87924),c=a.i(10584),d=a.i(73651),e=a.i(90419),f=a.i(71384),g=a.i(68428),h=a.i(99283),i=a.i(72131);a.s(["PrepareData",0,()=>((()=>{let{syncGroup:a,groups:b,setCurrentGroup:j,currentGroup:k,loading:l}=(0,c.useGroupCtx)(),{config:m,syncUser:n}=(0,e.useUserConfigCtx)(),{syncData:o}=(0,d.useGetSpendingCtx)();(0,i.useEffect)(()=>{console.log("Syncing groups for user",m?.user_id),m?.user_id&&a(m.user_id)},[m?.user_id,a]),(0,i.useEffect)(()=>{if(console.log("Checking to set default current group",{groups:b,currentGroup:k}),b.length>0&&!k){let a=(0,h.getCookie)("currentGroupId")||"",c=b.find(b=>String(b.account_id)===a)??b.sort((a,b)=>(a.created_at?new Date(a.created_at).getTime():0)-(b.created_at?new Date(b.created_at).getTime():0))[0];console.log("Setting default current group",c),j(c)}},[b,j,k]),(0,i.useEffect)(()=>{if(!l&&0===b.length&&m?.user_id){console.log("[usePrepareData] Creating default group for user:",m.user_id);let b={account_id:Date.now(),name:`${m.name} çš„å€‹äººå¸³æœ¬`,owner_id:m.user_id};(0,f.createGroup)(b).then(b=>{b.status?(console.log("[usePrepareData] âœ… Default group created successfully"),a(m.user_id)):console.error("[usePrepareData] âŒ Failed to create default group:",b.message)})}},[l,b.length,m?.user_id,a,m?.name]),(0,i.useEffect)(()=>{if(console.log("Preparing data for",{email:m?.email,group:k?.account_id}),k?.account_id){let{startDate:a,endDate:b}=(0,g.getStartEndOfMonth)(new Date);o(String(k.account_id),void 0,a.toISOString(),b.toISOString())}},[m?.email,o,k?.account_id]),(0,i.useEffect)(()=>{n()},[n])})(),(0,b.jsx)(b.Fragment,{}))],54748)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__701b140c._.js.map