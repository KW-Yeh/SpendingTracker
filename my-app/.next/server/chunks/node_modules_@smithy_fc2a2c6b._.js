module.exports=[8407,38891,4141,47841,65964,37294,19216,25612,38154,e=>{"use strict";var t,r,a=e.i(55103);let s=e=>"string"==typeof e?(0,a.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);e.s(["toUint8Array",0,s],8407);let i="X-Amz-Date",n="X-Amz-Signature",o="X-Amz-Security-Token",l="authorization",u=i.toLowerCase(),h=[l,u,"date"],c=n.toLowerCase(),f="x-amz-content-sha256",g=o.toLowerCase(),A={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},d=/^proxy-/,E=/^sec-/,y="UNSIGNED-PAYLOAD",R="aws4_request";e.s(["ALGORITHM_IDENTIFIER",0,"AWS4-HMAC-SHA256","ALGORITHM_QUERY_PARAM",0,"X-Amz-Algorithm","ALWAYS_UNSIGNABLE_HEADERS",0,A,"AMZ_DATE_HEADER",0,u,"AMZ_DATE_QUERY_PARAM",0,i,"AUTH_HEADER",0,l,"CREDENTIAL_QUERY_PARAM",0,"X-Amz-Credential","EVENT_ALGORITHM_IDENTIFIER",0,"AWS4-HMAC-SHA256-PAYLOAD","EXPIRES_QUERY_PARAM",0,"X-Amz-Expires","GENERATED_HEADERS",0,h,"KEY_TYPE_IDENTIFIER",0,R,"MAX_CACHE_SIZE",0,50,"MAX_PRESIGNED_TTL",0,604800,"PROXY_HEADER_PATTERN",0,d,"SEC_HEADER_PATTERN",0,E,"SHA256_HEADER",0,f,"SIGNATURE_HEADER",0,c,"SIGNATURE_QUERY_PARAM",0,n,"SIGNED_HEADERS_QUERY_PARAM",0,"X-Amz-SignedHeaders","TOKEN_HEADER",0,g,"TOKEN_QUERY_PARAM",0,o,"UNSIGNED_PAYLOAD",0,y],38891);var w=e.i(83784);let m={},p=[],_=async(e,t,r,a,s)=>{let i=await H(e,t.secretAccessKey,t.accessKeyId),n=`${r}:${a}:${s}:${(0,w.toHex)(i)}:${t.sessionToken}`;if(n in m)return m[n];for(p.push(n);p.length>50;)delete m[p.shift()];let o=`AWS4${t.secretAccessKey}`;for(let t of[r,a,s,R])o=await H(e,o,t);return m[n]=o},H=(e,t,r)=>{let a=new e(t);return a.update(s(r)),a.digest()};e.s(["createScope",0,(e,t,r)=>`${e}/${t}/${r}/${R}`,"getSigningKey",0,_],4141),e.s(["getCanonicalHeaders",0,({headers:e},t,r)=>{let a={};for(let s of Object.keys(e).sort()){if(void 0==e[s])continue;let i=s.toLowerCase();(!(i in A||t?.has(i)||d.test(i)||E.test(i))||r&&(!r||r.has(i)))&&(a[i]=e[s].trim().replace(/\s+/g," "))}return a}],47841);var v=e.i(34036);let I=async({headers:e,body:t},r)=>{for(let t of Object.keys(e))if(t.toLowerCase()===f)return e[t];if(void 0==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(0,v.isArrayBuffer)(t)){let e=new r;return e.update(s(t)),(0,w.toHex)(await e.digest())}return y};e.s(["getPayloadHash",0,I],65964);class S{format(e){let t=[];for(let r of Object.keys(e)){let s=(0,a.fromUtf8)(r);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[r]))}let r=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0)),s=0;for(let e of t)r.set(e,s),s+=e.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([+!e.value]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":let i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);let n=new Uint8Array(i.buffer);return n.set(e.value,3),n;case"string":let o=(0,a.fromUtf8)(e.value),l=new DataView(new ArrayBuffer(3+o.byteLength));l.setUint8(0,7),l.setUint16(1,o.byteLength,!1);let u=new Uint8Array(l.buffer);return u.set(o,3),u;case"timestamp":let h=new Uint8Array(9);return h[0]=8,h.set(D.fromNumber(e.value.valueOf()).bytes,1),h;case"uuid":if(!b.test(e.value))throw Error(`Invalid UUID received: ${e.value}`);let c=new Uint8Array(17);return c[0]=9,c.set((0,w.fromHex)(e.value.replace(/\-/g,"")),1),c}}}(t=r||(r={}))[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid";let b=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class D{bytes;constructor(e){if(this.bytes=e,8!==e.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let r=7,a=Math.abs(Math.round(e));r>-1&&a>0;r--,a/=256)t[r]=a;return e<0&&T(t),new D(t)}valueOf(){let e=this.bytes.slice(0),t=128&e[0];return t&&T(e),parseInt((0,w.toHex)(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function T(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}e.s(["HeaderFormatter",()=>S],37294),e.s(["hasHeader",0,(e,t)=>{for(let r of(e=e.toLowerCase(),Object.keys(t)))if(e===r.toLowerCase())return!0;return!1}],19216);var U=e.i(89073);e.s(["moveHeadersToQuery",0,(e,t={})=>{let{headers:r,query:a={}}=U.HttpRequest.clone(e);for(let e of Object.keys(r)){let s=e.toLowerCase();("x-amz-"===s.slice(0,6)&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(a[e]=r[e],delete r[e])}return{...e,headers:r,query:a}}],25612),e.s(["prepareRequest",0,e=>{for(let t of Object.keys((e=U.HttpRequest.clone(e)).headers))h.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e}],38154)},74016,e=>{"use strict";e.s(["normalizeProvider",0,e=>{if("function"==typeof e)return e;let t=Promise.resolve(e);return()=>t}])},45130,10334,77524,e=>{"use strict";var t=e.i(83784),r=e.i(8407),a=e.i(38891),s=e.i(4141),i=e.i(47841),n=e.i(65964),o=e.i(37294),l=e.i(19216),u=e.i(25612),h=e.i(38154),c=e.i(74016),f=e.i(12623);class g{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:t,region:r,service:a,sha256:s,uriEscapePath:i=!0}){this.service=a,this.sha256=s,this.uriEscapePath=i,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=(0,c.normalizeProvider)(r),this.credentialProvider=(0,c.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let s=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${(({query:e={}})=>{let t=[],r={};for(let s of Object.keys(e)){if(s.toLowerCase()===a.SIGNATURE_HEADER)continue;let i=(0,f.escapeUri)(s);t.push(i);let n=e[s];"string"==typeof n?r[i]=`${i}=${(0,f.escapeUri)(n)}`:Array.isArray(n)&&(r[i]=n.slice(0).reduce((e,t)=>e.concat([`${i}=${(0,f.escapeUri)(t)}`]),[]).sort().join("&"))}return t.sort().map(e=>r[e]).filter(e=>e).join("&")})(e)}
${s.map(e=>`${e}:${t[e]}`).join("\n")}

${s.join(";")}
${r}`}async createStringToSign(e,a,s,i){let n=new this.sha256;n.update((0,r.toUint8Array)(s));let o=await n.digest();return`${i}
${e}
${a}
${(0,t.toHex)(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let r of e.split("/"))r?.length!==0&&"."!==r&&(".."===r?t.pop():t.push(r));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,f.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw Error("Resolved credential object is not valid")}formatDate(e){var t;let r=("number"==typeof(t=e)?new Date(1e3*t):"string"==typeof t?new Date(Number(t)?1e3*Number(t):t):t).toISOString().replace(/\.\d{3}Z$/,"Z").replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}class A extends g{headerFormatter=new o.HeaderFormatter;constructor({applyChecksum:e,credentials:t,region:r,service:a,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:e,credentials:t,region:r,service:a,sha256:s,uriEscapePath:i})}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:o=3600,unsignableHeaders:l,unhoistableHeaders:c,signableHeaders:f,hoistableHeaders:g,signingRegion:A,signingService:d}=t,E=await this.credentialProvider();this.validateResolvedCredentials(E);let y=A??await this.regionProvider(),{longDate:R,shortDate:w}=this.formatDate(r);if(o>a.MAX_PRESIGNED_TTL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let m=(0,s.createScope)(w,y,d??this.service),p=(0,u.moveHeadersToQuery)((0,h.prepareRequest)(e),{unhoistableHeaders:c,hoistableHeaders:g});E.sessionToken&&(p.query[a.TOKEN_QUERY_PARAM]=E.sessionToken),p.query[a.ALGORITHM_QUERY_PARAM]=a.ALGORITHM_IDENTIFIER,p.query[a.CREDENTIAL_QUERY_PARAM]=`${E.accessKeyId}/${m}`,p.query[a.AMZ_DATE_QUERY_PARAM]=R,p.query[a.EXPIRES_QUERY_PARAM]=o.toString(10);let _=(0,i.getCanonicalHeaders)(p,l,f);return p.query[a.SIGNED_HEADERS_QUERY_PARAM]=this.getCanonicalHeaderList(_),p.query[a.SIGNATURE_QUERY_PARAM]=await this.getSignature(R,m,this.getSigningKey(E,y,w,d),this.createCanonicalRequest(p,_,await (0,n.getPayloadHash)(e,this.sha256))),p}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:r},{signingDate:i=new Date,priorSignature:o,signingRegion:l,signingService:u}){let h=l??await this.regionProvider(),{shortDate:c,longDate:f}=this.formatDate(i),g=(0,s.createScope)(c,h,u??this.service),A=await (0,n.getPayloadHash)({headers:{},body:r},this.sha256),d=new this.sha256;d.update(e);let E=(0,t.toHex)(await d.digest()),y=[a.EVENT_ALGORITHM_IDENTIFIER,f,g,o,E,A].join("\n");return this.signString(y,{signingDate:i,signingRegion:h,signingService:u})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:a}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:a,priorSignature:e.priorSignature}).then(t=>({message:e.message,signature:t}))}async signString(e,{signingDate:a=new Date,signingRegion:s,signingService:i}={}){let n=await this.credentialProvider();this.validateResolvedCredentials(n);let o=s??await this.regionProvider(),{shortDate:l}=this.formatDate(a),u=new this.sha256(await this.getSigningKey(n,o,l,i));return u.update((0,r.toUint8Array)(e)),(0,t.toHex)(await u.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:o,signingRegion:u,signingService:c}={}){let f=await this.credentialProvider();this.validateResolvedCredentials(f);let g=u??await this.regionProvider(),A=(0,h.prepareRequest)(e),{longDate:d,shortDate:E}=this.formatDate(t),y=(0,s.createScope)(E,g,c??this.service);A.headers[a.AMZ_DATE_HEADER]=d,f.sessionToken&&(A.headers[a.TOKEN_HEADER]=f.sessionToken);let R=await (0,n.getPayloadHash)(A,this.sha256);!(0,l.hasHeader)(a.SHA256_HEADER,A.headers)&&this.applyChecksum&&(A.headers[a.SHA256_HEADER]=R);let w=(0,i.getCanonicalHeaders)(A,o,r),m=await this.getSignature(d,y,this.getSigningKey(f,g,E,c),this.createCanonicalRequest(A,w,R));return A.headers[a.AUTH_HEADER]=`${a.ALGORITHM_IDENTIFIER} Credential=${f.accessKeyId}/${y}, SignedHeaders=${this.getCanonicalHeaderList(w)}, Signature=${m}`,A}async getSignature(e,s,i,n){let o=await this.createStringToSign(e,s,n,a.ALGORITHM_IDENTIFIER),l=new this.sha256(await i);return l.update((0,r.toUint8Array)(o)),(0,t.toHex)(await l.digest())}getSigningKey(e,t,r,a){return(0,s.getSigningKey)(this.sha256,e,r,t,a||this.service)}}e.s(["SignatureV4",()=>A],45130),e.s(["NODE_REGION_CONFIG_FILE_OPTIONS",0,{preferredFile:"credentials"},"NODE_REGION_CONFIG_OPTIONS",0,{environmentVariableSelector:e=>e.AWS_REGION,configFileSelector:e=>e.region,default:()=>{throw Error("Region is missing")}}],10334);var d=e.i(47797),E=e.i(874),y=e.i(54799);class R{algorithmIdentifier;secret;hash;constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,r.toUint8Array)(w(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,y.createHmac)(this.algorithmIdentifier,w(this.secret)):(0,y.createHash)(this.algorithmIdentifier)}}function w(e,t){return E.Buffer.isBuffer(e)?e:"string"==typeof e?(0,d.fromString)(e,t):ArrayBuffer.isView(e)?(0,d.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,d.fromArrayBuffer)(e)}e.s(["Hash",()=>R],77524)}];

//# sourceMappingURL=node_modules_%40smithy_fc2a2c6b._.js.map