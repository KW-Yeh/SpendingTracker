{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/app/transactions/UsagePieChart.tsx"],"sourcesContent":["'use client';\n\nimport { normalizeNumber } from '@/utils/normalizeNumber';\nimport {\n  DefaultTooltipContentProps,\n  Pie,\n  PieChart,\n  ResponsiveContainer,\n  Tooltip,\n} from 'recharts';\n\ninterface Props {\n  totalIncome: number;\n  totalOutcome: number;\n  isMobile: boolean;\n}\n\nconst UsagePieChart = (props: Props) => {\n  const { totalIncome, totalOutcome, isMobile } = props;\n  const percent = totalIncome ? totalOutcome / totalIncome : 0;\n  const isOverSpent = totalOutcome > totalIncome;\n  return (\n    <ResponsiveContainer\n      minWidth={150}\n      width=\"100%\"\n      style={{\n        maxWidth: '200px',\n        aspectRatio: 1,\n      }}\n    >\n      <PieChart>\n        <Pie\n          dataKey=\"value\"\n          data={[\n            { name: '使用', value: totalOutcome, fill: 'hsl(256, 60%, 70%)' },\n            {\n              name: '剩餘',\n              value: isOverSpent ? 0 : totalIncome - totalOutcome,\n              fill: 'hsl(256, 60%, 90%)',\n            },\n          ]}\n          isAnimationActive={false}\n          outerRadius={isMobile ? 55 : 65}\n          innerRadius={isMobile ? 40 : 45}\n        />\n        <Tooltip content={CustomToolTip} />\n        <text\n          x=\"50%\"\n          y=\"50%\"\n          fill=\"hsl(256, 60%, 30%)\"\n          textAnchor=\"middle\"\n          dominantBaseline=\"central\"\n        >\n          {`${Math.min(percent * 100, 100).toFixed(0)}%`}\n        </text>\n      </PieChart>\n    </ResponsiveContainer>\n  );\n};\n\nexport default UsagePieChart;\n\nconst CustomToolTip = (props: DefaultTooltipContentProps<string, string>) => {\n  if (!props.payload) return null;\n  const payload = props.payload[0]?.payload;\n  if (!payload) return null;\n  return (\n    <div className=\"bg-background flex flex-col rounded p-2 text-xs shadow\">\n      <span className=\"text-primary-700\">\n        {payload.name}：${normalizeNumber(payload.value)}\n      </span>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAHA;;;;AAiBA,MAAM,gBAAgB,CAAC;IACrB,MAAM,EAAE,WAAW,EAAE,YAAY,EAAE,QAAQ,EAAE,GAAG;IAChD,MAAM,UAAU,cAAc,eAAe,cAAc;IAC3D,MAAM,cAAc,eAAe;IACnC,qBACE,6LAAC,6LAAmB;QAClB,UAAU;QACV,OAAM;QACN,OAAO;YACL,UAAU;YACV,aAAa;QACf;kBAEA,cAAA,6LAAC,mKAAQ;;8BACP,6LAAC,yJAAG;oBACF,SAAQ;oBACR,MAAM;wBACJ;4BAAE,MAAM;4BAAM,OAAO;4BAAc,MAAM;wBAAqB;wBAC9D;4BACE,MAAM;4BACN,OAAO,cAAc,IAAI,cAAc;4BACvC,MAAM;wBACR;qBACD;oBACD,mBAAmB;oBACnB,aAAa,WAAW,KAAK;oBAC7B,aAAa,WAAW,KAAK;;;;;;8BAE/B,6LAAC,qKAAO;oBAAC,SAAS;;;;;;8BAClB,6LAAC;oBACC,GAAE;oBACF,GAAE;oBACF,MAAK;oBACL,YAAW;oBACX,kBAAiB;8BAEhB,GAAG,KAAK,GAAG,CAAC,UAAU,KAAK,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC;;;;;;;;;;;;;;;;;AAKxD;KAzCM;uCA2CS;AAEf,MAAM,gBAAgB,CAAC;IACrB,IAAI,CAAC,MAAM,OAAO,EAAE,OAAO;IAC3B,MAAM,UAAU,MAAM,OAAO,CAAC,EAAE,EAAE;IAClC,IAAI,CAAC,SAAS,OAAO;IACrB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAK,WAAU;;gBACb,QAAQ,IAAI;gBAAC;gBAAG,IAAA,qJAAe,EAAC,QAAQ,KAAK;;;;;;;;;;;;AAItD;MAXM"}}]
}