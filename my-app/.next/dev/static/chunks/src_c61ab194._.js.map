{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/components/icons/CoinIcon.tsx"],"sourcesContent":["import { HTMLAttributes } from \"react\";\n\nexport const CoinIcon = (props: HTMLAttributes<HTMLOrSVGElement>) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      className=\"bi bi-coin\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M5.5 9.511c.076.954.83 1.697 2.182 1.785V12h.6v-.709c1.4-.098 2.218-.846 2.218-1.932 0-.987-.626-1.496-1.745-1.76l-.473-.112V5.57c.6.068.982.396 1.074.85h1.052c-.076-.919-.864-1.638-2.126-1.716V4h-.6v.719c-1.195.117-2.01.836-2.01 1.853 0 .9.606 1.472 1.613 1.707l.397.098v2.034c-.615-.093-1.022-.43-1.114-.9zm2.177-2.166c-.59-.137-.91-.416-.91-.836 0-.47.345-.822.915-.925v1.76h-.005zm.692 1.193c.717.166 1.048.435 1.048.91 0 .542-.412.914-1.135.982V8.518z\" />\n      <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16\" />\n      <path d=\"M8 13.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11m0 .5A6 6 0 1 0 8 2a6 6 0 0 0 0 12\" />\n    </svg>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,WAAW,CAAC;IACvB,qBACE,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,MAAK;QACL,WAAU;QACV,SAAQ;QACP,GAAG,KAAK;;0BAET,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAK,GAAE;;;;;;;;;;;;AAGd;KAhBa"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/components/icons/EditIcon.tsx"],"sourcesContent":["import { HTMLAttributes } from 'react';\n\nexport const EditIcon = (props: HTMLAttributes<HTMLOrSVGElement>) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      className=\"bi bi-pen\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z\" />\n    </svg>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,WAAW,CAAC;IACvB,qBACE,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,MAAK;QACL,WAAU;QACV,SAAQ;QACP,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAK,GAAE;;;;;;;;;;;AAGd;KAda"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/components/icons/HomeIcon.tsx"],"sourcesContent":["import { HTMLAttributes } from \"react\";\n\nexport const HomeIcon = (props: HTMLAttributes<HTMLOrSVGElement>) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      className=\"bi bi-house\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z\" />\n    </svg>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,WAAW,CAAC;IACvB,qBACE,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,MAAK;QACL,WAAU;QACV,SAAQ;QACP,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAK,GAAE;;;;;;;;;;;AAGd;KAda"}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/components/icons/ListIcon.tsx"],"sourcesContent":["import { HTMLAttributes } from \"react\";\n\nexport const ListIcon = (props: HTMLAttributes<HTMLOrSVGElement>) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      className=\"bi bi-list-ul\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2\"\n      />\n    </svg>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,WAAW,CAAC;IACvB,qBACE,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,MAAK;QACL,WAAU;QACV,SAAQ;QACP,GAAG,KAAK;kBAET,cAAA,6LAAC;YACC,UAAS;YACT,GAAE;;;;;;;;;;;AAIV;KAjBa"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/components/icons/PeopleIcon.tsx"],"sourcesContent":["import { HTMLAttributes } from 'react';\n\nexport const PeopleIcon = (props: HTMLAttributes<HTMLOrSVGElement>) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      className=\"bi bi-people\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4\" />\n    </svg>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,aAAa,CAAC;IACzB,qBACE,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,MAAK;QACL,WAAU;QACV,SAAQ;QACP,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAK,GAAE;;;;;;;;;;;AAGd;KAda"}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/utils/constants.ts"],"sourcesContent":["export enum Route {\n  Base = '/',\n  Insert = '/transactions',\n  List = '/analysis',\n  Budget = '/budget',\n  Login = '/login',\n  Group = '/group',\n  Setting = '/setting',\n}\n\nexport const MENU_CONFIG: Record<string, string> = {\n  [Route.Base]: 'È¶ñÈ†Å',\n  [Route.Insert]: 'Ë®òÂ∏≥',\n  [Route.Group]: 'Áæ§ÁµÑ',\n  [Route.List]: 'ÂàÜÊûê',\n  [Route.Budget]: 'È†êÁÆó',\n};\n\nexport const PAGE_TITLE: Record<string, string> = {\n  [Route.Base]: 'È¶ñÈ†Å',\n  [Route.Insert]: 'Âø´ÈÄüË®òÂ∏≥',\n  [Route.Group]: 'Áæ§ÁµÑÁÆ°ÁêÜ',\n  [Route.List]: 'Ê∂àË≤ªÂàÜÊûê',\n  [Route.Budget]: 'È†êÁÆóË¶èÂäÉ',\n  [Route.Login]: 'ÊúÉÂì°ÁôªÂÖ•',\n  [Route.Setting]: 'Ë®≠ÂÆö',\n};\n\nexport enum SpendingType {\n  Income = 'Income',\n  Outcome = 'Outcome',\n}\n\nexport enum Necessity {\n  Need = 'ÂøÖ',\n  NotNeed = 'Èùû',\n}\n\nconst INCOME_TYPE_OPTIONS = ['üìà', 'üí∞', 'üéÅ', '‚ú®'];\nconst INCOME_WORDINGS = ['ÊäïË≥á', 'Ëñ™Ë≥á', 'ÁçéÈáë', 'ÂÖ∂‰ªñ'];\nexport const INCOME_TYPE_MAP = INCOME_TYPE_OPTIONS.map((option, index) => ({\n  value: option,\n  label: INCOME_WORDINGS[index],\n}));\n\nconst OUTCOME_TYPE_OPTIONS = [\n  'üçî',\n  'üëó',\n  'üè†',\n  'üöó',\n  'üìö',\n  'üé≤',\n  'üßª',\n  'üíä',\n  'üìâ',\n  '‚ú®',\n];\nconst OUTCOME_WORDINGS = [\n  'È£≤È£ü',\n  'ÊúçÈ£æ',\n  '‰ΩèÂÆø',\n  '‰∫§ÈÄö',\n  'Â≠∏Áøí',\n  'Â®õÊ®Ç',\n  'Êó•Â∏∏',\n  'ÈÜ´ÁôÇ',\n  'ÊäïË≥á',\n  'ÂÖ∂‰ªñ',\n];\nexport const OUTCOME_TYPE_MAP = OUTCOME_TYPE_OPTIONS.map((option, index) => ({\n  value: option,\n  label: OUTCOME_WORDINGS[index],\n}));\n\nexport const CATEGORY_WORDING_MAP: Record<string, string> = {\n  'üçî': 'È£≤È£ü',\n  'üëó': 'ÊúçÈ£æ',\n  'üè†': '‰ΩèÂÆø',\n  'üöó': '‰∫§ÈÄö',\n  'üìö': 'Â≠∏Áøí',\n  'üé≤': 'Â®õÊ®Ç',\n  'üßª': 'Êó•Â∏∏',\n  'üíä': 'ÈÜ´ÁôÇ',\n  'üìâ': 'ÊäïË≥á',\n  '‚ú®': 'ÂÖ∂‰ªñ',\n  'üìà': 'ÊäïË≥á',\n  'üí∞': 'Ëñ™Ë≥á',\n  'üéÅ': 'ÁçéÈáë',\n};\n\nexport const WEEKDAY = ['Êó•', '‰∏Ä', '‰∫å', '‰∏â', 'Âõõ', '‰∫î', 'ÂÖ≠'];\n\nexport const DEFAULT_DESC: Record<string, string[]> = {\n  'üçî': ['Êó©È§ê', 'ÂçàÈ§ê', 'ÊôöÈ§ê', 'ÈªûÂøÉ', 'È£≤Êñô'],\n  'üëó': [],\n  'üè†': ['ÊàøÁßü', 'Ê∞¥Ë≤ª', 'ÈõªË≤ª', 'Áì¶ÊñØË≤ª', 'Á∂≤Ë∑ØË≤ª', 'ÊàøË≤∏'],\n  'üöó': ['Âä†Ê≤π', 'Âä†ÂÄº(ÊÇ†ÈÅä)', 'Âä†ÂÄº(È´òÈêµ)'],\n  'üìö': [],\n  'üé≤': [],\n  'üßª': [],\n  'üíä': [],\n  'üìâ': [],\n  'üìà': [],\n  'üí∞': ['Ëñ™Ê∞¥'],\n  'üéÅ': ['ÂÄã‰∫∫Á∏æÊïàÁçéÈáë', 'Âπ¥ÁµÇÁçéÈáë', 'Á¥ÖÂà©ÁçéÈáë', '‰∏âÁØÄÁçéÈáë'],\n  '‚ú®': [],\n};\n\nexport const MONTH_MAP: Record<string, string> = {\n  '1': 'Jan',\n  '2': 'Feb',\n  '3': 'Mar',\n  '4': 'Apr',\n  '5': 'May',\n  '6': 'Jun',\n  '7': 'Jul',\n  '8': 'Aug',\n  '9': 'Sep',\n  '10': 'Oct',\n  '11': 'Nov',\n  '12': 'Dec',\n};\n\nexport const MONTH_LABEL: Record<string, string> = {\n  Jan: '1',\n  Feb: '2',\n  Mar: '3',\n  Apr: '4',\n  May: '5',\n  Jun: '6',\n  Jul: '7',\n  Aug: '8',\n  Sep: '9',\n  Oct: '10',\n  Nov: '11',\n  Dec: '12',\n};\n\nexport const BUDGET_PERIOD_OPTIONS = ['yearly', 'monthly', 'weekly', 'daily'];\nexport const BUDGET_PERIOD_WORDINGS: Record<string, string> = {\n  yearly: 'ÊØèÂπ¥',\n  monthly: 'ÊØèÊúà',\n  weekly: 'ÊØèÈÄ±',\n  daily: 'ÊØèÊó•',\n};\n\nexport const IDB_NAME = 'Expense Tracking';\nexport const IDB_VERSION = 2;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO,IAAA,AAAK,+BAAA;;;;;;;;WAAA;;AAUL,MAAM,cAAsC;IACjD,KAAY,EAAE;IACd,iBAAc,EAAE;IAChB,UAAa,EAAE;IACf,aAAY,EAAE;IACd,WAAc,EAAE;AAClB;AAEO,MAAM,aAAqC;IAChD,KAAY,EAAE;IACd,iBAAc,EAAE;IAChB,UAAa,EAAE;IACf,aAAY,EAAE;IACd,WAAc,EAAE;IAChB,UAAa,EAAE;IACf,YAAe,EAAE;AACnB;AAEO,IAAA,AAAK,sCAAA;;;WAAA;;AAKL,IAAA,AAAK,mCAAA;;;WAAA;;AAKZ,MAAM,sBAAsB;IAAC;IAAM;IAAM;IAAM;CAAI;AACnD,MAAM,kBAAkB;IAAC;IAAM;IAAM;IAAM;CAAK;AACzC,MAAM,kBAAkB,oBAAoB,GAAG,MAAC,CAAC,QAAQ,QAAU,CAAC;QACzE,OAAO;QACP,OAAO,eAAe,CAAC,MAAM;IAC/B,CAAC;;AAED,MAAM,uBAAuB;IAC3B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AACD,MAAM,mBAAmB;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AACM,MAAM,mBAAmB,qBAAqB,GAAG,OAAC,CAAC,QAAQ,QAAU,CAAC;QAC3E,OAAO;QACP,OAAO,gBAAgB,CAAC,MAAM;IAChC,CAAC;;AAEM,MAAM,uBAA+C;IAC1D,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,KAAK;IACL,MAAM;IACN,MAAM;IACN,MAAM;AACR;AAEO,MAAM,UAAU;IAAC;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;CAAI;AAEnD,MAAM,eAAyC;IACpD,MAAM;QAAC;QAAM;QAAM;QAAM;QAAM;KAAK;IACpC,MAAM,EAAE;IACR,MAAM;QAAC;QAAM;QAAM;QAAM;QAAO;QAAO;KAAK;IAC5C,MAAM;QAAC;QAAM;QAAU;KAAS;IAChC,MAAM,EAAE;IACR,MAAM,EAAE;IACR,MAAM,EAAE;IACR,MAAM,EAAE;IACR,MAAM,EAAE;IACR,MAAM,EAAE;IACR,MAAM;QAAC;KAAK;IACZ,MAAM;QAAC;QAAU;QAAQ;QAAQ;KAAO;IACxC,KAAK,EAAE;AACT;AAEO,MAAM,YAAoC;IAC/C,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,MAAM;IACN,MAAM;AACR;AAEO,MAAM,cAAsC;IACjD,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;AACP;AAEO,MAAM,wBAAwB;IAAC;IAAU;IAAW;IAAU;CAAQ;AACtE,MAAM,yBAAiD;IAC5D,QAAQ;IACR,SAAS;IACT,QAAQ;IACR,OAAO;AACT;AAEO,MAAM,WAAW;AACjB,MAAM,cAAc"}},
    {"offset": {"line": 444, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/composites/BottomNav.tsx"],"sourcesContent":["'use client';\n\nimport { CoinIcon } from '@/components/icons/CoinIcon';\nimport { EditIcon } from '@/components/icons/EditIcon';\nimport { HomeIcon } from '@/components/icons/HomeIcon';\nimport { ListIcon } from '@/components/icons/ListIcon';\nimport { PeopleIcon } from '@/components/icons/PeopleIcon';\nimport { MENU_CONFIG } from '@/utils/constants';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { ReactNode } from 'react';\n\nconst ROUTE_ICON: Record<string, ReactNode> = {\n  '/': <HomeIcon className=\"size-4\" />,\n  '/transactions': <EditIcon className=\"size-4\" />,\n  '/group': <PeopleIcon className=\"size-4\" />,\n  '/analysis': <ListIcon className=\"size-4\" />,\n  '/budget': <CoinIcon className=\"size-4\" />,\n};\n\nexport const BottomNav = () => {\n  const pathname = usePathname();\n\n  return (\n    <nav\n      className=\"fixed rounded-full bottom-4 left-4 right-4 z-50 md:hidden bg-white/50 backdrop-blur-md shadow-[0_-2px_16px_rgba(0,0,0,0.1)]\"\n      aria-label=\"Mobile navigation\"\n    >\n      <div className=\"flex items-center justify-around px-2 py-2 safe-area-inset-bottom\">\n        {Object.keys(MENU_CONFIG).map((route) => {\n          const isActive = pathname === route;\n          return (\n            <Link\n              key={route}\n              href={route}\n              className={`flex flex-col items-center hover:bg-white/50 justify-center gap-1 size-12 rounded-full transition-colors duration-200 ${\n                isActive\n                  ? 'text-primary-500'\n                  : 'text-gray-500 hover:text-gray-700 active:text-primary-400'\n              }`}\n              aria-label={MENU_CONFIG[route]}\n              aria-current={isActive ? 'page' : undefined}\n            >\n              <span className=\"flex items-center justify-center\">\n                {ROUTE_ICON[route]}\n              </span>\n              <span className=\"text-xs font-medium\">{MENU_CONFIG[route]}</span>\n            </Link>\n          );\n        })}\n      </div>\n    </nav>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAYA,MAAM,aAAwC;IAC5C,mBAAK,6LAAC,sJAAQ;QAAC,WAAU;;;;;;IACzB,+BAAiB,6LAAC,sJAAQ;QAAC,WAAU;;;;;;IACrC,wBAAU,6LAAC,0JAAU;QAAC,WAAU;;;;;;IAChC,2BAAa,6LAAC,sJAAQ;QAAC,WAAU;;;;;;IACjC,yBAAW,6LAAC,sJAAQ;QAAC,WAAU;;;;;;AACjC;AAEO,MAAM,YAAY;;IACvB,MAAM,WAAW,IAAA,oJAAW;IAE5B,qBACE,6LAAC;QACC,WAAU;QACV,cAAW;kBAEX,cAAA,6LAAC;YAAI,WAAU;sBACZ,OAAO,IAAI,CAAC,2IAAW,EAAE,GAAG,CAAC,CAAC;gBAC7B,MAAM,WAAW,aAAa;gBAC9B,qBACE,6LAAC,0KAAI;oBAEH,MAAM;oBACN,WAAW,CAAC,sHAAsH,EAChI,WACI,qBACA,6DACJ;oBACF,cAAY,2IAAW,CAAC,MAAM;oBAC9B,gBAAc,WAAW,SAAS;;sCAElC,6LAAC;4BAAK,WAAU;sCACb,UAAU,CAAC,MAAM;;;;;;sCAEpB,6LAAC;4BAAK,WAAU;sCAAuB,2IAAW,CAAC,MAAM;;;;;;;mBAbpD;;;;;YAgBX;;;;;;;;;;;AAIR;GAjCa;;QACM,oJAAW;;;KADjB"}},
    {"offset": {"line": 570, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/components/icons/SettingIcon.tsx"],"sourcesContent":["import { HTMLAttributes } from \"react\";\n\nexport const SettingIcon = (props: HTMLAttributes<HTMLOrSVGElement>) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      className=\"bi bi-gear\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0\" />\n      <path d=\"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z\" />\n    </svg>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,cAAc,CAAC;IAC1B,qBACE,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,MAAK;QACL,WAAU;QACV,SAAQ;QACP,GAAG,KAAK;;0BAET,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAK,GAAE;;;;;;;;;;;;AAGd;KAfa"}},
    {"offset": {"line": 617, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/components/UserAvatar.tsx"],"sourcesContent":["import Image from 'next/image';\nexport function UserAvatar({ user }: { user?: User | null }) {\n  return user && user.image ? (\n    <Image\n      src={user.image ?? ''}\n      alt={user.email ?? ''}\n      width={48}\n      height={48}\n      className=\"rounded-full\"\n    />\n  ) : (\n    <div className=\"bg-primary-100 flex size-full items-center justify-center rounded-full\">\n      <span className=\"text-primary-500 text-2xl font-bold\">\n        {user && user.name ? user.name.charAt(0).toUpperCase() : 'U'}\n      </span>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AACO,SAAS,WAAW,EAAE,IAAI,EAA0B;IACzD,OAAO,QAAQ,KAAK,KAAK,iBACvB,6LAAC,2IAAK;QACJ,KAAK,KAAK,KAAK,IAAI;QACnB,KAAK,KAAK,KAAK,IAAI;QACnB,OAAO;QACP,QAAQ;QACR,WAAU;;;;;6BAGZ,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAK,WAAU;sBACb,QAAQ,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK;;;;;;;;;;;AAIjE;KAhBgB"}},
    {"offset": {"line": 662, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/hooks/useIDB.ts"],"sourcesContent":["'use client';\n\nimport { IDB_NAME, IDB_VERSION } from '@/utils/constants';\nimport { useCallback, useEffect, useState } from 'react';\n\nenum StoreName {\n  UserConfig = 'User Config',\n  ExpenseRecord = 'Expense Record',\n}\n\nconst DB_NAME = IDB_NAME;\nconst DB_VERSION = IDB_VERSION;\nconst STORE_NAME = [StoreName.UserConfig, StoreName.ExpenseRecord];\nconst STORE_CONFIG: Record<\n  string,\n  {\n    indexName: string;\n    indexValue: string[];\n  }\n> = {\n  [StoreName.ExpenseRecord]: {\n    // include group_id in the compound index so we can scope queries by group\n    indexName: 'group_year_month',\n    indexValue: ['group_id', 'year', 'month'],\n  },\n  [StoreName.UserConfig]: {\n    indexName: 'email',\n    indexValue: ['email'],\n  },\n};\n\n// Generic DB record shapes used by the API below\ninterface UserDATA_IDB {\n  id?: number;\n  email: string;\n  data: string;\n}\n\ninterface SpendingDATA_IDB {\n  id?: number;\n  group_id: string | number;\n  year: number;\n  month: number;\n  data: string;\n}\n\nexport const useIDB = () => {\n  const [db, setDb] = useState<IDBDatabase | null>(null);\n\n  useEffect(() => {\n    const openRequest = indexedDB.open(DB_NAME, DB_VERSION);\n\n    openRequest.onsuccess = () => {\n      const db = openRequest.result;\n      for (const storeName of STORE_NAME) {\n        if (!db.objectStoreNames.contains(storeName)) {\n          console.error(`Object store ${storeName} does not exist.`);\n          db.close();\n          indexedDB.deleteDatabase(DB_NAME);\n          window.location.reload();\n          return;\n        }\n      }\n      setDb(db);\n    };\n\n    openRequest.onupgradeneeded = () => {\n      const db = openRequest.result;\n      for (const storeName of STORE_NAME) {\n        if (!db.objectStoreNames.contains(storeName)) {\n          const store = db.createObjectStore(storeName, {\n            keyPath: 'id',\n            autoIncrement: true,\n          });\n          const config = STORE_CONFIG[storeName];\n          store.createIndex(config.indexName, config.indexValue, {\n            unique: true,\n          });\n        }\n      }\n    };\n\n    openRequest.onerror = () =>\n      console.error('Error opening IndexedDB:', openRequest.error);\n  }, []);\n\n  const setUserData = useCallback(\n    (db: IDBDatabase | null, userData: User): Promise<void> => {\n      if (!db) return Promise.reject('Database not initialized');\n\n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction(STORE_NAME, 'readwrite');\n        const store = transaction.objectStore(StoreName.UserConfig);\n\n        const newData: {\n          id?: number;\n          email: string;\n          data: string;\n        } = {\n          email: userData.email,\n          data: JSON.stringify(userData),\n        };\n\n        const index = store.index(STORE_CONFIG[StoreName.UserConfig].indexName);\n        const checkRequest = index.get([userData.email]);\n        checkRequest.onsuccess = () => {\n          const existingRecord = checkRequest.result;\n          if (existingRecord) {\n            newData.id = existingRecord.id;\n          }\n          const request = store.put(newData);\n          request.onsuccess = () => resolve();\n          request.onerror = () => console.error(request.error);\n        };\n        checkRequest.onerror = () => console.error(checkRequest.error);\n      });\n    },\n    [],\n  );\n\n  const getUserData = useCallback(\n    (\n      db: IDBDatabase | null,\n      email: string,\n      signal: AbortSignal,\n    ): Promise<UserDATA_IDB | undefined> => {\n      if (!db) return Promise.reject('Database not initialized');\n\n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction(STORE_NAME, 'readonly');\n        let isTransactionActive = true;\n\n        transaction.oncomplete = () => {\n          isTransactionActive = false;\n        };\n\n        transaction.onerror = (event) => {\n          isTransactionActive = false;\n          console.error((event.target as IDBTransaction).error);\n        };\n\n        signal.addEventListener('abort', () => {\n          if (isTransactionActive) {\n            console.log('getUserData aborted');\n            transaction.abort();\n          }\n        });\n\n        const store = transaction.objectStore(StoreName.UserConfig);\n        const index = store.index(STORE_CONFIG[StoreName.UserConfig].indexName);\n        const request = index.get([email]);\n\n        request.onsuccess = () => {\n          isTransactionActive = false;\n          resolve(request.result as unknown as UserDATA_IDB);\n        };\n        request.onerror = () => {\n          isTransactionActive = false;\n          console.error(request.error);\n        };\n\n        transaction.onabort = () => console.error('Transaction aborted');\n      });\n    },\n    [],\n  );\n\n  const setSpendingData = useCallback(\n    (\n      db: IDBDatabase | null,\n      record: SpendingRecord[],\n      groupId: string | number,\n      time: string = new Date().toISOString(),\n    ): Promise<void> => {\n      if (!db) return Promise.reject('Database not initialized');\n      if (groupId === undefined || groupId === null) {\n        return Promise.reject('Invalid groupId');\n      }\n\n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction(STORE_NAME, 'readwrite');\n        const store = transaction.objectStore(StoreName.ExpenseRecord);\n        const year = new Date(time).getFullYear();\n        const month = new Date(time).getMonth();\n\n        const newData: {\n          id?: number;\n          group_id: string | number;\n          year: number;\n          month: number;\n          data: string;\n        } = {\n          group_id: groupId,\n          year,\n          month,\n          data: JSON.stringify(record),\n        };\n\n        const index = store.index(\n          STORE_CONFIG[StoreName.ExpenseRecord].indexName,\n        );\n        // include groupId in the lookup key for the compound index\n        // index.get may throw a DataError synchronously if the key is invalid\n        try {\n          const checkRequest = index.get([groupId, year, month]);\n          checkRequest.onsuccess = () => {\n            const existingRecord = checkRequest.result;\n            if (existingRecord) {\n              newData.id = existingRecord.id;\n            }\n            const request = store.put(newData);\n            request.onsuccess = () => resolve();\n            request.onerror = () => reject(request.error);\n          };\n          checkRequest.onerror = () => reject(checkRequest.error);\n        } catch (err) {\n          // Fallback: scan all records and find matching group/year/month\n          const allReq = store.getAll();\n          allReq.onsuccess = () => {\n            try {\n              const all = allReq.result as unknown as SpendingDATA_IDB[];\n              const existingRecord = all.find(\n                (r) =>\n                  r.group_id == groupId && r.year === year && r.month === month,\n              );\n              if (existingRecord) {\n                newData.id = existingRecord.id;\n              }\n              const request = store.put(newData);\n              request.onsuccess = () => resolve();\n              request.onerror = () => reject(request.error);\n            } catch (e) {\n              reject(e);\n            }\n          };\n          allReq.onerror = () => reject(allReq.error);\n        }\n      });\n    },\n    [],\n  );\n\n  const getSpendingData = useCallback(\n    (\n      db: IDBDatabase | null,\n      groupId: string | number,\n      signal: AbortSignal,\n    ): Promise<SpendingDATA_IDB[] | undefined> => {\n      if (!db) return Promise.reject('Database not initialized');\n\n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction(STORE_NAME, 'readonly');\n        let isTransactionActive = true;\n\n        transaction.oncomplete = () => {\n          isTransactionActive = false;\n        };\n\n        transaction.onerror = (event) => {\n          isTransactionActive = false;\n          console.error((event.target as IDBTransaction).error);\n        };\n\n        signal.addEventListener('abort', () => {\n          if (isTransactionActive) {\n            console.log('getUserData aborted');\n            transaction.abort();\n          }\n        });\n\n        const store = transaction.objectStore(StoreName.ExpenseRecord);\n        const index = store.index(\n          STORE_CONFIG[StoreName.ExpenseRecord].indexName,\n        );\n        const year = new Date().getFullYear();\n        const month = new Date().getMonth();\n        // include groupId in the query key so we only fetch records for that group\n        const request = index.getAll([groupId, year, month]);\n\n        request.onsuccess = () => {\n          isTransactionActive = false;\n          resolve(request.result as unknown as SpendingDATA_IDB[]);\n        };\n        request.onerror = () => {\n          isTransactionActive = false;\n          console.error(request.error);\n        };\n\n        transaction.onabort = () => console.error('Transaction aborted');\n      });\n    },\n    [],\n  );\n\n  return { db, setSpendingData, getSpendingData, setUserData, getUserData };\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 979, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/services/userServices.ts"],"sourcesContent":["const URL = '/api/aurora/user';\n\nexport const getUser = async (\n  id: string,\n): Promise<{\n  status: boolean;\n  data: User | null;\n  message: string;\n}> => {\n  try {\n    if (!id) return { status: false, data: null, message: 'Áº∫Â∞ë ID Ë≥áË®ä' };\n    const data: User = await fetch(`${URL}?id=${id}`).then((res) => res.json());\n    return { status: true, data, message: 'success' };\n  } catch (error) {\n    console.error(error);\n    return { status: false, data: null, message: 'ÁôºÁîü‰∏çÈ†êÊúüÁöÑÈåØË™§' };\n  }\n};\n\nexport const putUser = async (data: User) => {\n  try {\n    await fetch(URL, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n    return { status: true, message: 'success' };\n  } catch (error) {\n    console.error(error);\n    return { status: false, message: 'ÁôºÁîü‰∏çÈ†êÊúüÁöÑÈåØË™§' };\n  }\n};\n\nexport const createUser = async (data: User) => {\n  try {\n    await fetch(URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n    return { status: true, message: 'success' };\n  } catch (error) {\n    console.error(error);\n    return { status: false, message: 'ÁôºÁîü‰∏çÈ†êÊúüÁöÑÈåØË™§' };\n  }\n};"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,MAAM;AAEL,MAAM,UAAU,OACrB;IAMA,IAAI;QACF,IAAI,CAAC,IAAI,OAAO;YAAE,QAAQ;YAAO,MAAM;YAAM,SAAS;QAAW;QACjE,MAAM,OAAa,MAAM,MAAM,GAAG,IAAI,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;QACxE,OAAO;YAAE,QAAQ;YAAM;YAAM,SAAS;QAAU;IAClD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO;YAAE,QAAQ;YAAO,MAAM;YAAM,SAAS;QAAW;IAC1D;AACF;AAEO,MAAM,UAAU,OAAO;IAC5B,IAAI;QACF,MAAM,MAAM,KAAK;YACf,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,OAAO;YAAE,QAAQ;YAAM,SAAS;QAAU;IAC5C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO;YAAE,QAAQ;YAAO,SAAS;QAAW;IAC9C;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,MAAM,KAAK;YACf,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,OAAO;YAAE,QAAQ;YAAM,SAAS;QAAU;IAC5C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO;YAAE,QAAQ;YAAO,SAAS;QAAW;IAC9C;AACF"}},
    {"offset": {"line": 1059, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/context/UserConfigProvider.tsx"],"sourcesContent":["'use client';\n\nimport { useIDB } from '@/hooks/useIDB';\nimport { getUser, putUser, createUser } from '@/services/userServices';\nimport { useSession } from 'next-auth/react';\nimport { redirect, usePathname } from 'next/navigation';\nimport {\n  createContext,\n  ReactNode,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nconst INIT_CTX_VAL: {\n  loading: boolean;\n  config?: User;\n  syncUser: () => void;\n  setter: (value: User) => Promise<void>;\n} = {\n  loading: true,\n  config: undefined,\n  syncUser: () => {},\n  setter: async () => {},\n};\n\nexport const UserConfigProvider = ({ children }: { children: ReactNode }) => {\n  const [config, setConfig] = useState<User>();\n  const [loading, setLoading] = useState(true);\n  const { data: session, status } = useSession();\n  const { db: IDB, getUserData, setUserData } = useIDB();\n  const controllerRef = useRef<AbortController | null>(null);\n  const pathname = usePathname();\n\n  const handleState = useCallback((value: User) => {\n    setConfig(value);\n    setLoading(false);\n  }, []);\n\n  const handleUpdateUser = useCallback(async (value: User) => {\n    await putUser(value);\n    // Update local state after API call\n    setConfig(value);\n  }, []);\n\n  const handleNewUser = useCallback(\n    async (email: string) => {\n      if (session?.user) {\n        await createUser({\n          user_id: Date.now(),\n          name: session.user.name || 'ÂåøÂêç',\n          email: email,\n          image: session.user.image || '',\n          groups: [],\n          budget: [],\n        });\n      }\n    },\n    [session?.user],\n  );\n\n  const queryUser = useCallback(\n    (email: string) => {\n      getUser(email)\n        .then((res) => {\n          console.log('Querying user response: ', res);\n          if (controllerRef.current) {\n            controllerRef.current.abort();\n          }\n          if (res.status && res.data === null) {\n            console.log('User not found, creating new user...');  \n            handleNewUser(email).then(() => {\n              setTimeout(() => {\n                queryUser(email);\n              }, 3000);\n            });\n          } else if (res.status && res.data !== null) {\n            console.log('User found, updating local state...'); \n            handleState(res.data);\n            setUserData(IDB, res.data)\n              .then(() => {\n                console.log('Update User IDB success.');\n              })\n              .catch((err) => {\n                console.log('Update User IDB failed: ', err);\n              });\n          }\n        })\n        .catch(console.error);\n    },\n    [IDB, handleNewUser, setUserData, handleState],\n  );\n\n  const syncUser = useCallback(() => {\n    setLoading(true);\n    if (session?.user?.email) {\n      console.log('Syncing user: ', session.user.email);\n      queryUser(session.user.email);\n    }\n  }, [queryUser, session?.user?.email]);\n\n  const ctxVal = useMemo(\n    () => ({\n      loading,\n      config,\n      syncUser,\n      setter: handleUpdateUser,\n    }),\n    [loading, config, syncUser, handleUpdateUser],\n  );\n\n  const handleLogin = useCallback(() => {\n    if (pathname !== '/login') {\n      redirect('/login');\n    }\n  }, [pathname]);\n\n  useEffect(() => {\n    if (status === 'unauthenticated') {\n      handleLogin();\n    }\n  }, [status, handleLogin]);\n\n  useEffect(() => {\n    if (!session?.user?.email) {\n      syncUser();\n    }\n  }, [session?.user?.email, syncUser]);\n\n  useEffect(() => {\n    const controller = (controllerRef.current = new AbortController());\n    if (IDB && !config) {\n      getUserData(IDB, session?.user?.email ?? '', controller.signal)\n        .then((res) => {\n          if (res) {\n            const _data = JSON.parse(res.data) as User;\n            // console.log('Get User Data from IDB', _data);\n            handleState(_data);\n            controllerRef.current = null;\n          }\n        })\n        .catch((err) => {\n          console.log('Error while syncing data: ', err);\n        });\n    }\n    return () => controller.abort();\n  }, [IDB, config, getUserData, handleState, session?.user?.email]);\n\n  return <Ctx.Provider value={ctxVal}>{children}</Ctx.Provider>;\n};\n\nconst Ctx = createContext(INIT_CTX_VAL);\nexport const useUserConfigCtx = () => useContext(Ctx);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1281, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/hooks/useFocusRef.ts"],"sourcesContent":["\"use client\";\nimport { useEffect, useRef } from \"react\";\n\nconst useFocusRef = <T extends HTMLElement>(callback: () => void) => {\n  const ref = useRef<T>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (ref.current && !ref.current.contains(event.target as Node)) {\n        callback();\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [callback]);\n\n  return ref;\n};\n\nexport default useFocusRef;\n"],"names":[],"mappings":";;;;AACA;;AADA;;AAGA,MAAM,cAAc,CAAwB;;IAC1C,MAAM,MAAM,IAAA,uKAAM,EAAI;IAEtB,IAAA,0KAAS;iCAAC;YACR,MAAM;4DAAqB,CAAC;oBAC1B,IAAI,IAAI,OAAO,IAAI,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBAC9D;oBACF;gBACF;;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;yCAAO;oBACL,SAAS,mBAAmB,CAAC,aAAa;gBAC5C;;QACF;gCAAG;QAAC;KAAS;IAEb,OAAO;AACT;GAhBM;uCAkBS"}},
    {"offset": {"line": 1322, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/composites/AsideMenu.tsx"],"sourcesContent":["'use client';\n\nimport { CoinIcon } from '@/components/icons/CoinIcon';\nimport { EditIcon } from '@/components/icons/EditIcon';\nimport { HomeIcon } from '@/components/icons/HomeIcon';\nimport { ListIcon } from '@/components/icons/ListIcon';\nimport { PeopleIcon } from '@/components/icons/PeopleIcon';\nimport { SettingIcon } from '@/components/icons/SettingIcon';\nimport { UserAvatar } from '@/components/UserAvatar';\nimport { useUserConfigCtx } from '@/context/UserConfigProvider';\nimport useFocusRef from '@/hooks/useFocusRef';\nimport { MENU_CONFIG } from '@/utils/constants';\nimport { signOut } from 'next-auth/react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport {\n  ReactNode,\n  startTransition,\n  useCallback,\n  useEffect,\n  useRef,\n} from 'react';\n\ninterface Props {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport const AsideMenu = (props: Props) => {\n  const { isOpen, onClose } = props;\n  const { config: user } = useUserConfigCtx();\n  const bgRef = useRef<HTMLDivElement>(null);\n  const asideRef = useFocusRef<HTMLElement>(() => {\n    onClose();\n    close();\n  });\n\n  const close = useCallback(() => {\n    startTransition(() => {\n      if (!bgRef.current || !asideRef.current) return;\n      bgRef.current.style.right = '100%';\n      asideRef.current.style.left = '-300px';\n    });\n  }, [asideRef]);\n\n  const open = useCallback(() => {\n    startTransition(() => {\n      if (!bgRef.current || !asideRef.current) return;\n      bgRef.current.style.right = '0';\n      asideRef.current.style.left = '0';\n    });\n  }, [asideRef]);\n\n  useEffect(() => {\n    if (isOpen) {\n      open();\n    } else {\n      close();\n    }\n  }, [close, isOpen, open]);\n\n  return (\n    <>\n      <div\n        ref={bgRef}\n        className=\"fixed top-0 right-full bottom-0 left-0 z-50 bg-black/50 max-md:hidden\"\n      ></div>\n      <aside\n        ref={asideRef}\n        className=\"bg-background fixed top-0 bottom-0 -left-72 z-50 flex max-md:hidden w-72 origin-right flex-col items-center justify-between shadow-[1px_0_16px_0px_black] transition-all\"\n      >\n        <div className=\"gradient-r-from-purple-to-blue clip-profile-bg absolute h-30 w-full\"></div>\n        <div className=\"relative flex w-full flex-col items-center pt-17\">\n          <div className=\"bg-background flex size-20 items-center justify-center rounded-full p-1\">\n            <UserAvatar user={user} />\n          </div>\n          {user && (\n            <button\n              type=\"button\"\n              onClick={async () => {\n                if (confirm('Á¢∫ÂÆöË¶ÅÁôªÂá∫ÂóéÔºü')) {\n                  await signOut();\n                  onClose();\n                }\n              }}\n              className=\"bg-background text-text absolute top-2 right-2 flex shrink-0 items-center justify-center rounded-md p-2 text-xs font-semibold transition-all hover:text-red-500 active:text-red-500\"\n            >\n              <span className=\"text-xs\">ÁôªÂá∫</span>\n            </button>\n          )}\n        </div>\n        <div className=\"mt-4 flex w-full flex-col items-center px-4\">\n          <h3 className=\"max-w-70 overflow-hidden text-base font-bold text-ellipsis whitespace-nowrap\">\n            {user ? user.name : 'Â∞öÊú™ÁôªÂÖ•'}\n          </h3>\n          <p className=\"max-w-70 overflow-hidden text-xs text-ellipsis whitespace-nowrap text-gray-500\">\n            {user ? user.email : 'Â∞öÊú™ÁôªÂÖ•'}\n          </p>\n        </div>\n        <div className=\"flex h-px w-full items-center px-4 py-5\">\n          <span className=\"h-px w-full bg-gray-200\"></span>\n        </div>\n        <div className=\"flex w-full flex-1 flex-col items-center gap-2 px-4\">\n          {Object.keys(MENU_CONFIG).map((path) => (\n            <MenuButton\n              key={path}\n              href={path}\n              label={MENU_CONFIG[path]}\n              onClick={onClose}\n            />\n          ))}\n        </div>\n        <div className=\"w-full border-t border-solid border-gray-300 px-4 py-2\">\n          <MenuButton\n            href=\"/setting\"\n            onClick={onClose}\n            label=\"Ë®≠ÂÆö\"\n            icon={<SettingIcon className=\"mr-3 size-4 sm:mr-4\" />}\n          />\n        </div>\n      </aside>\n\n      <svg width=\"0\" height=\"0\" xmlns=\"http://www.w3.org/2000/svg\">\n        <defs>\n          <clipPath id=\"clip-profile-bg\" clipPathUnits=\"userSpaceOnUse\">\n            <path d=\"M 0,0 L 288,0 L 288,120 L 194,120 A 10,10 0,0,1 184,110 A 40,40 0,0,0 104,110 A 10,10 0,0,1 94,120 L 0,120 L 0,0 Z\" />\n          </clipPath>\n        </defs>\n      </svg>\n    </>\n  );\n};\n\nconst ROUTE_ICON: Record<string, ReactNode> = {\n  '/': <HomeIcon className=\"mr-3 size-4 sm:mr-4\" />,\n  '/transactions': <EditIcon className=\"mr-3 size-4 sm:mr-4\" />,\n  '/analysis': <ListIcon className=\"mr-3 size-4 sm:mr-4\" />,\n  '/budget': <CoinIcon className=\"mr-3 size-4 sm:mr-4\" />,\n  '/group': <PeopleIcon className=\"mr-3 size-4 sm:mr-4\" />,\n};\n\nconst MenuButton = ({\n  href,\n  icon,\n  label,\n  onClick,\n}: {\n  href?: string;\n  icon?: ReactNode;\n  label: string;\n  onClick: () => void;\n}) => {\n  const pathName = usePathname();\n  if (href) {\n    return (\n      <Link\n        href={href}\n        onClick={onClick}\n        className={`flex w-full items-center rounded-md px-5 py-3 text-left text-sm font-semibold transition-all sm:text-base ${pathName === href ? 'bg-primary-100' : 'active:bg-primary-100 hover:bg-primary-100'}`}\n      >\n        {icon ?? ROUTE_ICON[href]}\n        {label}\n      </Link>\n    );\n  }\n  return (\n    <button\n      onClick={onClick}\n      className=\"active:bg-primary-100 hover:bg-primary-100 flex w-full items-center rounded-md px-5 py-3 text-left text-sm font-semibold transition-all sm:text-base\"\n    >\n      {icon}\n      {label}\n    </button>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1682, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/components/icons/CaretDown.tsx"],"sourcesContent":["import { HTMLAttributes } from 'react';\n\nexport const CaretDown = (props: HTMLAttributes<HTMLOrSVGElement>) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      className=\"bi bi-caret-down-fill\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\" />\n    </svg>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,YAAY,CAAC;IACxB,qBACE,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,MAAK;QACL,WAAU;QACV,SAAQ;QACP,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAK,GAAE;;;;;;;;;;;AAGd;KAda"}},
    {"offset": {"line": 1720, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/components/Select.tsx"],"sourcesContent":["'use client';\nimport { CaretDown } from '@/components/icons/CaretDown';\nimport useFocusRef from '@/hooks/useFocusRef';\nimport {\n  createContext,\n  ReactNode,\n  useCallback,\n  useContext,\n  useEffect,\n  useState,\n} from 'react';\n\ninterface Props {\n  value?: string;\n  label?: ReactNode;\n  name: string;\n  onChange: (value: string) => void;\n  children?: ReactNode;\n  className?: string;\n  caretStyle?: string;\n  menuStyle?: string;\n}\n\nenum MenuOpenDirection {\n  Up = 'Up',\n  Down = 'Down',\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport const Select = (props: Props) => {\n  const {\n    children,\n    className = '',\n    caretStyle = '',\n    menuStyle = '',\n    onChange,\n    value,\n    label,\n    name,\n  } = props;\n  const [openOptions, setOpenOptions] = useState(false);\n  const [menuMaxHeight, setMenuMaxHeight] = useState(0);\n  const [openVerticalDirection, setOpenVerticalDirection] =\n    useState<MenuOpenDirection>(MenuOpenDirection.Down);\n  const [openHorizontalDirection, setOpenHorizontalDirection] =\n    useState<MenuOpenDirection>(MenuOpenDirection.Left);\n  const ref = useFocusRef<HTMLDivElement>(() => {\n    setOpenOptions(false);\n  });\n\n  const updateMenuHeight = useCallback(() => {\n    const element = ref.current;\n    if (element) {\n      const direction = calVerticalDirection(element);\n      setOpenVerticalDirection(direction);\n      setOpenHorizontalDirection(calHorizontalDirection(element));\n      setMenuMaxHeight(calMenuHeight(element, direction));\n    }\n  }, [ref]);\n\n  useEffect(() => {\n    const element = ref.current;\n    if (element) {\n      updateMenuHeight();\n      window.addEventListener('scroll', updateMenuHeight);\n      window.addEventListener('animationend', updateMenuHeight);\n    }\n    return () => {\n      window.removeEventListener('scroll', updateMenuHeight);\n      window.removeEventListener('animationend', updateMenuHeight);\n    };\n  }, [ref, updateMenuHeight]);\n\n  return (\n    <Ctx.Provider\n      value={{\n        onChange,\n        value,\n        close: () => setOpenOptions(false),\n      }}\n    >\n      <div ref={ref} className=\"relative w-full\">\n        <button\n          className={`${className} flex items-center justify-between gap-1`}\n          type=\"button\"\n          onClick={() => setOpenOptions((prevState) => !prevState)}\n        >\n          {(label || value) && (\n            <span className=\"overflow-hidden text-ellipsis whitespace-nowrap\">\n              {label ?? value}\n            </span>\n          )}\n          <CaretDown className={`size-2 shrink-0 ${caretStyle}`} />\n        </button>\n        <div\n          className={`${openVerticalDirection === MenuOpenDirection.Down ? 'top-full mt-1' : 'bottom-full mb-1'} ${openHorizontalDirection === MenuOpenDirection.Left ? 'right-0' : 'left-0'} bg-background absolute z-40 w-fit overflow-hidden rounded-lg border border-solid border-gray-300 py-2 shadow transition-all ${openOptions ? 'visible opacity-100' : 'invisible opacity-0'}`}\n          style={{\n            minWidth: (ref.current?.clientWidth ?? 0) - 8 + 'px',\n            maxHeight: menuMaxHeight + 'px',\n          }}\n        >\n          <div\n            className={`${menuStyle} scrollbar flex h-full w-full flex-col overflow-x-hidden overflow-y-auto`}\n            style={{\n              maxHeight: menuMaxHeight - 8 + 'px',\n            }}\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n      <input value={value} name={name} className=\"hidden\" readOnly></input>\n    </Ctx.Provider>\n  );\n};\n\nconst Ctx = createContext<{\n  onChange: (value: string) => void;\n  value?: string;\n  close: () => void;\n}>({\n  onChange: () => {},\n  value: undefined,\n  close: () => {},\n});\n\nconst Item = ({\n  className = '',\n  value,\n  children,\n}: {\n  className?: string;\n  children: ReactNode;\n  value: string;\n}) => {\n  const { value: current, onChange, close } = useContext(Ctx);\n  return (\n    <button\n      type=\"button\"\n      onClick={() => {\n        onChange(value);\n        close();\n      }}\n      className={`flex w-full px-4 py-2 transition-colors ${className} ${current === value ? 'bg-primary-100' : 'hover:bg-primary-100'}`}\n    >\n      <span className=\"overflow-hidden text-ellipsis whitespace-nowrap\">\n        {children}\n      </span>\n    </button>\n  );\n};\n\nSelect.Item = Item;\n\nconst calVerticalDirection = (element: HTMLDivElement) => {\n  const dropdownHeight =\n    element.getBoundingClientRect().bottom -\n    element.getBoundingClientRect().top;\n  return element.getBoundingClientRect().top <\n    (window.innerHeight - dropdownHeight) / 2\n    ? MenuOpenDirection.Down\n    : MenuOpenDirection.Up;\n};\n\nconst calHorizontalDirection = (element: HTMLDivElement) => {\n  const dropdownWidth =\n    element.getBoundingClientRect().right -\n    element.getBoundingClientRect().left;\n\n  return element.getBoundingClientRect().left <\n    (window.innerWidth - dropdownWidth) / 2\n    ? MenuOpenDirection.Right\n    : MenuOpenDirection.Left;\n};\n\nconst calMenuHeight = (\n  element: HTMLDivElement,\n  openDirection: MenuOpenDirection,\n) => {\n  if (openDirection === MenuOpenDirection.Down) {\n    return window.innerHeight - element.getBoundingClientRect().bottom - 24;\n  } else {\n    return element.getBoundingClientRect().top - 24;\n  }\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1930, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/services/groupServices.ts"],"sourcesContent":["const URL = '/api/aurora/groups';\n\nexport const createGroup = async (data: Group) => {\n  try {\n    await fetch(URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n    return { status: true, message: 'success' };\n  } catch (error) {\n    console.error(error);\n    return { status: false, data: [], message: 'ÁôºÁîü‰∏çÈ†êÊúüÁöÑÈåØË™§' };\n  }\n};\n\nexport const putGroup = async (data: Group) => {\n  try {\n    await fetch(URL, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n    return { status: true, message: 'success' };\n  } catch (error) {\n    console.error(error);\n    return { status: false, data: [], message: 'ÁôºÁîü‰∏çÈ†êÊúüÁöÑÈåØË™§' };\n  }\n};\n\nexport const deleteGroup = async (id: string) => {\n  try {\n    await fetch(`${URL}?id=${id}`, {\n      method: 'DELETE',\n    });\n    return { status: true, message: 'success' };\n  } catch (error) {\n    console.error(error);\n    return { status: false, data: [], message: 'ÁôºÁîü‰∏çÈ†êÊúüÁöÑÈåØË™§' };\n  }\n};\n\nexport const getGroups = async (\n  user_id: number,\n): Promise<{\n  status: boolean;\n  data: Group[];\n  message: string;\n}> => {\n  try {\n    const data = await fetch(`${URL}?id=${user_id}`).then((res) => res.json());\n    return { status: true, data, message: 'success' };\n  } catch (error) {\n    console.error(error);\n    return { status: false, data: [], message: 'ÁôºÁîü‰∏çÈ†êÊúüÁöÑÈåØË™§' };\n  }\n};\n"],"names":[],"mappings":";;;;;;;;;;AAAA,MAAM,MAAM;AAEL,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,MAAM,MAAM,KAAK;YACf,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,OAAO;YAAE,QAAQ;YAAM,SAAS;QAAU;IAC5C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO;YAAE,QAAQ;YAAO,MAAM,EAAE;YAAE,SAAS;QAAW;IACxD;AACF;AAEO,MAAM,WAAW,OAAO;IAC7B,IAAI;QACF,MAAM,MAAM,KAAK;YACf,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,OAAO;YAAE,QAAQ;YAAM,SAAS;QAAU;IAC5C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO;YAAE,QAAQ;YAAO,MAAM,EAAE;YAAE,SAAS;QAAW;IACxD;AACF;AAEO,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,MAAM,MAAM,GAAG,IAAI,IAAI,EAAE,IAAI,EAAE;YAC7B,QAAQ;QACV;QACA,OAAO;YAAE,QAAQ;YAAM,SAAS;QAAU;IAC5C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO;YAAE,QAAQ;YAAO,MAAM,EAAE;YAAE,SAAS;QAAW;IACxD;AACF;AAEO,MAAM,YAAY,OACvB;IAMA,IAAI;QACF,MAAM,OAAO,MAAM,MAAM,GAAG,IAAI,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;QACvE,OAAO;YAAE,QAAQ;YAAM;YAAM,SAAS;QAAU;IAClD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO;YAAE,QAAQ;YAAO,MAAM,EAAE;YAAE,SAAS;QAAW;IACxD;AACF"}},
    {"offset": {"line": 2027, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/utils/handleCookie.ts"],"sourcesContent":["interface CookieOptions {\n  expires?: number | Date;\n  path?: string;\n  domain?: string;\n  secure?: boolean;\n  sameSite?: 'Strict' | 'Lax' | 'None';\n}\n\n/**\n * Ë®≠ÂÆö Cookie\n * @param name - Cookie ÂêçÁ®±\n * @param value - Cookie ÂÄº\n * @param options - Cookie ÈÅ∏È†Ö\n */\nexport function setCookie(\n  name: string,\n  value: string,\n  options: CookieOptions = {},\n): void {\n  let cookieString = `${encodeURIComponent(name)}=${encodeURIComponent(value)}`;\n\n  if (options.expires) {\n    const expires =\n      options.expires instanceof Date\n        ? options.expires\n        : new Date(Date.now() + options.expires * 24 * 60 * 60 * 1000);\n    cookieString += `; expires=${expires.toUTCString()}`;\n  }\n\n  if (options.path) {\n    cookieString += `; path=${options.path}`;\n  }\n\n  if (options.domain) {\n    cookieString += `; domain=${options.domain}`;\n  }\n\n  if (options.secure) {\n    cookieString += '; secure';\n  }\n\n  if (options.sameSite) {\n    cookieString += `; samesite=${options.sameSite}`;\n  }\n\n  document.cookie = cookieString;\n}\n\n/**\n * ÂèñÂæó Cookie ÂÄº\n * @param name - Cookie ÂêçÁ®±\n * @returns Cookie ÂÄºÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®ÂâáËøîÂõû null\n */\nexport function getCookie(name: string): string | null {\n  const nameEQ = encodeURIComponent(name) + '=';\n  const cookies = document.cookie.split(';');\n\n  for (let i = 0; i < cookies.length; i++) {\n    let cookie = cookies[i].trim();\n    if (cookie.startsWith(nameEQ)) {\n      return decodeURIComponent(cookie.substring(nameEQ.length));\n    }\n  }\n\n  return null;\n}\n"],"names":[],"mappings":";;;;;;AAcO,SAAS,UACd,IAAY,EACZ,KAAa,EACb,UAAyB,CAAC,CAAC;IAE3B,IAAI,eAAe,GAAG,mBAAmB,MAAM,CAAC,EAAE,mBAAmB,QAAQ;IAE7E,IAAI,QAAQ,OAAO,EAAE;QACnB,MAAM,UACJ,QAAQ,OAAO,YAAY,OACvB,QAAQ,OAAO,GACf,IAAI,KAAK,KAAK,GAAG,KAAK,QAAQ,OAAO,GAAG,KAAK,KAAK,KAAK;QAC7D,gBAAgB,CAAC,UAAU,EAAE,QAAQ,WAAW,IAAI;IACtD;IAEA,IAAI,QAAQ,IAAI,EAAE;QAChB,gBAAgB,CAAC,OAAO,EAAE,QAAQ,IAAI,EAAE;IAC1C;IAEA,IAAI,QAAQ,MAAM,EAAE;QAClB,gBAAgB,CAAC,SAAS,EAAE,QAAQ,MAAM,EAAE;IAC9C;IAEA,IAAI,QAAQ,MAAM,EAAE;QAClB,gBAAgB;IAClB;IAEA,IAAI,QAAQ,QAAQ,EAAE;QACpB,gBAAgB,CAAC,WAAW,EAAE,QAAQ,QAAQ,EAAE;IAClD;IAEA,SAAS,MAAM,GAAG;AACpB;AAOO,SAAS,UAAU,IAAY;IACpC,MAAM,SAAS,mBAAmB,QAAQ;IAC1C,MAAM,UAAU,SAAS,MAAM,CAAC,KAAK,CAAC;IAEtC,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,IAAK;QACvC,IAAI,SAAS,OAAO,CAAC,EAAE,CAAC,IAAI;QAC5B,IAAI,OAAO,UAAU,CAAC,SAAS;YAC7B,OAAO,mBAAmB,OAAO,SAAS,CAAC,OAAO,MAAM;QAC1D;IACF;IAEA,OAAO;AACT"}},
    {"offset": {"line": 2071, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/context/GroupProvider.tsx"],"sourcesContent":["'use client';\n\nimport { getGroups } from '@/services/groupServices';\nimport { getCookie } from '@/utils/handleCookie';\nimport {\n  createContext,\n  ReactNode,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\n\nconst INIT_CTX_VAL: {\n  loading: boolean;\n  currentGroup?: Group;\n  groups: Group[];\n  syncGroup: (user_id: number) => void;\n  setter: (_groups: Group[]) => void;\n  setCurrentGroup: (_group?: Group) => void;\n} = {\n  loading: true,\n  currentGroup: undefined,\n  groups: [],\n  syncGroup: () => {},\n  setter: () => {},\n  setCurrentGroup: () => {},\n};\n\nexport const GroupProvider = ({ children }: { children: ReactNode }) => {\n  const [loading, setLoading] = useState(true);\n  const [groups, setGroups] = useState<Group[]>([]);\n  const [currentGroup, setCurrentGroup] = useState<Group>();\n\n  const handleState = useCallback((res: Group[]) => {\n    setGroups(res);\n    setLoading(false);\n  }, []);\n\n  const queryGroup = useCallback(\n    (user_id: number) => {\n      setLoading(true);\n      getGroups(user_id)\n        .then((res) => {\n          if (res.status) {\n            handleState(res.data);\n          }\n        })\n        .catch(console.error);\n    },\n    [handleState],\n  );\n\n  const ctxVal = useMemo(\n    () => ({\n      loading,\n      groups,\n      currentGroup,\n      setCurrentGroup,\n      syncGroup: queryGroup,\n      setter: handleState,\n    }),\n    [currentGroup, groups, loading, queryGroup, handleState],\n  );\n\n  useEffect(() => {\n    const currentGroupId = getCookie('currentGroupId');\n  }, []);\n\n  return <Ctx.Provider value={ctxVal}>{children}</Ctx.Provider>;\n};\n\nconst Ctx = createContext(INIT_CTX_VAL);\nexport const useGroupCtx = () => useContext(Ctx);\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;;;AAJA;;;;AAcA,MAAM,eAOF;IACF,SAAS;IACT,cAAc;IACd,QAAQ,EAAE;IACV,WAAW,KAAO;IAClB,QAAQ,KAAO;IACf,iBAAiB,KAAO;AAC1B;AAEO,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAA2B;;IACjE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAU,EAAE;IAChD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ;IAEhD,MAAM,cAAc,IAAA,4KAAW;kDAAC,CAAC;YAC/B,UAAU;YACV,WAAW;QACb;iDAAG,EAAE;IAEL,MAAM,aAAa,IAAA,4KAAW;iDAC5B,CAAC;YACC,WAAW;YACX,IAAA,gJAAS,EAAC,SACP,IAAI;yDAAC,CAAC;oBACL,IAAI,IAAI,MAAM,EAAE;wBACd,YAAY,IAAI,IAAI;oBACtB;gBACF;wDACC,KAAK,CAAC,QAAQ,KAAK;QACxB;gDACA;QAAC;KAAY;IAGf,MAAM,SAAS,IAAA,wKAAO;yCACpB,IAAM,CAAC;gBACL;gBACA;gBACA;gBACA;gBACA,WAAW;gBACX,QAAQ;YACV,CAAC;wCACD;QAAC;QAAc;QAAQ;QAAS;QAAY;KAAY;IAG1D,IAAA,0KAAS;mCAAC;YACR,MAAM,iBAAiB,IAAA,4IAAS,EAAC;QACnC;kCAAG,EAAE;IAEL,qBAAO,6LAAC,IAAI,QAAQ;QAAC,OAAO;kBAAS;;;;;;AACvC;GAzCa;KAAA;AA2Cb,MAAM,oBAAM,IAAA,8KAAa,EAAC;;AACnB,MAAM,cAAc;;IAAM,OAAA,IAAA,2KAAU,EAAC;AAAG;IAAlC"}},
    {"offset": {"line": 2169, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/composites/GroupSelector.tsx"],"sourcesContent":["import { Select } from '@/components/Select';\nimport { useGroupCtx } from '@/context/GroupProvider';\nimport { setCookie } from '@/utils/handleCookie';\nimport { useCallback } from 'react';\n\nexport const GroupSelector = ({ className = '' }: { className?: string }) => {\n  const { loading, groups, currentGroup, setCurrentGroup } = useGroupCtx();\n\n  const handleOnSelectGroup = useCallback(\n    (groupId: string) => {\n      const newGroup = groups.find(\n        (group) => String(group.account_id) === groupId,\n      );\n      if (newGroup) {\n        setCookie('currentGroupId', String(newGroup.account_id), {\n          expires: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000),\n        });\n        setCurrentGroup(newGroup);\n      }\n    },\n    [groups, setCurrentGroup],\n  );\n\n  return (\n    <Select\n      name=\"group\"\n      value={currentGroup?.name ?? 'ËºâÂÖ•Â∏≥Êú¨Ë≥áË®ä‰∏≠...'}\n      onChange={handleOnSelectGroup}\n      className={`bg-background max-w-50 rounded-full border border-solid border-gray-300 px-3 py-1 transition-colors active:border-gray-500 sm:hover:border-gray-500 ${className}`}\n    >\n      {!loading &&\n        groups.map(\n          (group) =>\n            group.account_id && (\n              <Select.Item\n                key={group.account_id}\n                value={group.account_id.toString()}\n                className=\"text-sm\"\n              >\n                {group.name}\n              </Select.Item>\n            ),\n        )}\n    </Select>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,gBAAgB,CAAC,EAAE,YAAY,EAAE,EAA0B;;IACtE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,eAAe,EAAE,GAAG,IAAA,kJAAW;IAEtE,MAAM,sBAAsB,IAAA,4KAAW;0DACrC,CAAC;YACC,MAAM,WAAW,OAAO,IAAI;2EAC1B,CAAC,QAAU,OAAO,MAAM,UAAU,MAAM;;YAE1C,IAAI,UAAU;gBACZ,IAAA,4IAAS,EAAC,kBAAkB,OAAO,SAAS,UAAU,GAAG;oBACvD,SAAS,IAAI,KAAK,KAAK,GAAG,KAAK,IAAI,KAAK,KAAK,KAAK;gBACpD;gBACA,gBAAgB;YAClB;QACF;yDACA;QAAC;QAAQ;KAAgB;IAG3B,qBACE,6LAAC,yIAAM;QACL,MAAK;QACL,OAAO,cAAc,QAAQ;QAC7B,UAAU;QACV,WAAW,CAAC,oJAAoJ,EAAE,WAAW;kBAE5K,CAAC,WACA,OAAO,GAAG,CACR,CAAC,QACC,MAAM,UAAU,kBACd,6LAAC,yIAAM,CAAC,IAAI;gBAEV,OAAO,MAAM,UAAU,CAAC,QAAQ;gBAChC,WAAU;0BAET,MAAM,IAAI;eAJN,MAAM,UAAU;;;;;;;;;;AAUrC;GAxCa;;QACgD,kJAAW;;;KAD3D"}},
    {"offset": {"line": 2238, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/components/icons/MenuIcon.tsx"],"sourcesContent":["import { HTMLAttributes } from \"react\";\n\nexport const MenuIcon = (props: HTMLAttributes<HTMLOrSVGElement>) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      className=\"bi bi-list\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5\"\n      />\n    </svg>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,WAAW,CAAC;IACvB,qBACE,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,MAAK;QACL,WAAU;QACV,SAAQ;QACP,GAAG,KAAK;kBAET,cAAA,6LAAC;YACC,UAAS;YACT,GAAE;;;;;;;;;;;AAIV;KAjBa"}},
    {"offset": {"line": 2277, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/composites/MenuButton.tsx"],"sourcesContent":["import { MenuIcon } from '@/components/icons/MenuIcon';\n\ninterface Props {\n  openAside: () => void;\n}\n\nexport const MenuButton = (props: Props) => {\n  const { openAside } = props;\n  return (\n      <button\n      onClick={openAside}\n      className=\"size-8 max-md:hidden rounded-full p-1 transition-colors hover:bg-primary-100 active:bg-primary-100\"\n    >\n      <MenuIcon className=\"size-full\" />\n    </button>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;;;AAMO,MAAM,aAAa,CAAC;IACzB,MAAM,EAAE,SAAS,EAAE,GAAG;IACtB,qBACI,6LAAC;QACD,SAAS;QACT,WAAU;kBAEV,cAAA,6LAAC,sJAAQ;YAAC,WAAU;;;;;;;;;;;AAG1B;KAVa"}},
    {"offset": {"line": 2313, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/composites/Caption.tsx"],"sourcesContent":["import { GroupSelector } from '@/composites/GroupSelector';\nimport { MenuButton } from '@/composites/MenuButton';\nimport { signOut } from 'next-auth/react';\n\nexport const Caption = ({ openAside }: { openAside: () => void }) => {\n  return (\n    <div className=\"sticky top-0 left-0 z-40 w-full bg-white/50 p-4 shadow backdrop-blur\">\n      <div className=\"relative flex items-center\">\n        <MenuButton openAside={openAside} />\n        <div className=\"mx-auto\">\n          <GroupSelector className=\"border-0 max-w-80 font-bold\" />\n        </div>\n      </div>\n      <button\n        type=\"button\"\n        onClick={async () => {\n          if (confirm('Á¢∫ÂÆöË¶ÅÁôªÂá∫ÂóéÔºü')) {\n            await signOut();\n          }\n        }}\n        className=\"md:hidden absolute right-0 top-0 text-text flex shrink-0 items-center justify-center rounded-md p-2 text-xs font-semibold transition-all hover:text-red-500 active:text-red-500\"\n      >\n        <span className=\"text-xs\">ÁôªÂá∫</span>\n      </button>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEO,MAAM,UAAU,CAAC,EAAE,SAAS,EAA6B;IAC9D,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,iJAAU;wBAAC,WAAW;;;;;;kCACvB,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,uJAAa;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAG7B,6LAAC;gBACC,MAAK;gBACL,SAAS;oBACP,IAAI,QAAQ,YAAY;wBACtB,MAAM,IAAA,mJAAO;oBACf;gBACF;gBACA,WAAU;0BAEV,cAAA,6LAAC;oBAAK,WAAU;8BAAU;;;;;;;;;;;;;;;;;AAIlC;KAtBa"}},
    {"offset": {"line": 2397, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/composites/Header.tsx"],"sourcesContent":["'use client';\nimport { AsideMenu } from '@/composites/AsideMenu';\nimport { Caption } from '@/composites/Caption';\nimport { useState } from 'react';\n\nexport const Header = () => {\n  const [open, setOpen] = useState(false);\n  return (\n    <>\n      <Caption openAside={() => setOpen(true)} />\n      <AsideMenu isOpen={open} onClose={() => setOpen(false)} />\n    </>\n  );\n};\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;AAHA;;;;AAKO,MAAM,SAAS;;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,qBACE;;0BACE,6LAAC,2IAAO;gBAAC,WAAW,IAAM,QAAQ;;;;;;0BAClC,6LAAC,+IAAS;gBAAC,QAAQ;gBAAM,SAAS,IAAM,QAAQ;;;;;;;;AAGtD;GARa;KAAA"}},
    {"offset": {"line": 2445, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/services/getRecords.ts"],"sourcesContent":["const URL = '/api/aurora/items';\n\nexport const getItems = async (\n  groupId?: string,\n  email?: string,\n  startDate?: string,\n  endDate?: string,\n): Promise<{\n  status: boolean;\n  data: SpendingRecord[];\n  message: string;\n}> => {\n  try {\n    const query = new URLSearchParams();\n    if (groupId) {\n      query.set('groupId', groupId);\n    } else if (email) {\n      query.set('email', email);\n    } else {\n      return { status: false, data: [], message: 'Áº∫Â∞ëÁæ§ÁµÑ ID Êàñ‰ø°ÁÆ±Ë≥áË®ä' };\n    }\n    if (startDate) query.set('startDate', startDate);\n    if (endDate) query.set('endDate', endDate);\n    const data = await fetch(`${URL}?${query}`).then((res) => res.json());\n    return { status: true, data, message: 'success' };\n  } catch (error) {\n    console.error(error);\n    return { status: false, data: [], message: 'ÁôºÁîü‰∏çÈ†êÊúüÁöÑÈåØË™§' };\n  }\n};\n\nexport const putItem = async (data: SpendingRecord) => {\n  try {\n    return await fetch(URL, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n  } catch (error) {\n    console.error(error);\n    return { status: false, message: 'ÁôºÁîü‰∏çÈ†êÊúüÁöÑÈåØË™§' };\n  }\n};\n\nexport const deleteItem = async (id: string) => {\n  try {\n    return await fetch(`${URL}?id=${id}`, { method: 'DELETE' });\n  } catch (error) {\n    console.error(error);\n    return { status: false, message: 'ÁôºÁîü‰∏çÈ†êÊúüÁöÑÈåØË™§' };\n  }\n};\n"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,MAAM;AAEL,MAAM,WAAW,OACtB,SACA,OACA,WACA;IAMA,IAAI;QACF,MAAM,QAAQ,IAAI;QAClB,IAAI,SAAS;YACX,MAAM,GAAG,CAAC,WAAW;QACvB,OAAO,IAAI,OAAO;YAChB,MAAM,GAAG,CAAC,SAAS;QACrB,OAAO;YACL,OAAO;gBAAE,QAAQ;gBAAO,MAAM,EAAE;gBAAE,SAAS;YAAgB;QAC7D;QACA,IAAI,WAAW,MAAM,GAAG,CAAC,aAAa;QACtC,IAAI,SAAS,MAAM,GAAG,CAAC,WAAW;QAClC,MAAM,OAAO,MAAM,MAAM,GAAG,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;QAClE,OAAO;YAAE,QAAQ;YAAM;YAAM,SAAS;QAAU;IAClD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO;YAAE,QAAQ;YAAO,MAAM,EAAE;YAAE,SAAS;QAAW;IACxD;AACF;AAEO,MAAM,UAAU,OAAO;IAC5B,IAAI;QACF,OAAO,MAAM,MAAM,KAAK;YACtB,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO;YAAE,QAAQ;YAAO,SAAS;QAAW;IAC9C;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,OAAO,MAAM,MAAM,GAAG,IAAI,IAAI,EAAE,IAAI,EAAE;YAAE,QAAQ;QAAS;IAC3D,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO;YAAE,QAAQ;YAAO,SAAS;QAAW;IAC9C;AACF"}},
    {"offset": {"line": 2522, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/context/SpendingProvider.tsx"],"sourcesContent":["'use client';\n\nimport { useIDB } from '@/hooks/useIDB';\nimport { getItems } from '@/services/getRecords';\nimport { getCookie } from '@/utils/handleCookie';\nimport {\n  createContext,\n  ReactNode,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n} from 'react';\n\nconst INIT_CTX_VAL: {\n  loading: boolean;\n  data: SpendingRecord[];\n  syncData: (\n    groupId?: string,\n    email?: string,\n    startDate?: string,\n    endDate?: string,\n  ) => void;\n} = {\n  loading: true,\n  data: [],\n  syncData: () => {},\n};\n\nconst reducer = (\n  _: { data: SpendingRecord[]; loading: boolean },\n  action: SpendingRecord[],\n) => {\n  return { data: action, loading: false };\n};\n\nexport const SpendingProvider = ({ children }: { children: ReactNode }) => {\n  const [state, dispatch] = useReducer(reducer, { data: [], loading: true });\n  const {\n    db: IDB,\n    getSpendingData: getDataFromIDB,\n    setSpendingData: setData2IDB,\n  } = useIDB();\n  const controllerRef = useRef<AbortController | null>(null);\n\n  const handleSetState = useCallback((_data: SpendingRecord[]) => {\n    dispatch(_data);\n  }, []);\n\n  const queryItem = useCallback(\n    (\n      email?: string,\n      groupId?: string,\n      startDate?: string,\n      endDate?: string,\n    ) => {\n      if (!email && !groupId) return;\n      getItems(groupId, email, startDate, endDate)\n        .then((res) => {\n          if (controllerRef.current) {\n            controllerRef.current.abort();\n          }\n          console.log('Get Data from API');\n          handleSetState(res.data);\n          setData2IDB(IDB, res.data, Number(groupId), startDate)\n            .then(() => {\n              console.log('Update IDB success.');\n            })\n            .catch((err) => {\n              console.log('Update IDB failed: ', err);\n            });\n        })\n        .catch(console.error);\n    },\n    [IDB, handleSetState, setData2IDB],\n  );\n\n  const syncData = useCallback(\n    (\n      groupId?: string,\n      email?: string,\n      startDate?: string,\n      endDate?: string,\n    ) => {\n      queryItem(email, groupId, startDate, endDate);\n    },\n    [queryItem],\n  );\n\n  const ctxVal = useMemo(\n    () => ({\n      ...state,\n      syncData,\n    }),\n    [state, syncData],\n  );\n\n  useEffect(() => {\n    const controller = (controllerRef.current = new AbortController());\n    if (IDB) {\n      const groupId = getCookie('currentGroupId');\n      getDataFromIDB(IDB, Number(groupId), controller.signal)\n        .then((res) => {\n          if (res && res.length === 1) {\n            const _data = JSON.parse(res[0].data) as SpendingRecord[];\n            console.log('Get Data from IDB', _data);\n            if (_data.length !== 0) {\n              handleSetState(_data);\n              controllerRef.current = null;\n            }\n          }\n        })\n        .catch((err) => {\n          console.log('Error while syncing data: ', err);\n        });\n    }\n    return () => controller.abort();\n  }, [IDB, getDataFromIDB, handleSetState]);\n\n  return <Ctx.Provider value={ctxVal}>{children}</Ctx.Provider>;\n};\n\nconst Ctx = createContext(INIT_CTX_VAL);\nexport const useGetSpendingCtx = () => useContext(Ctx);\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAgBA,MAAM,eASF;IACF,SAAS;IACT,MAAM,EAAE;IACR,UAAU,KAAO;AACnB;AAEA,MAAM,UAAU,CACd,GACA;IAEA,OAAO;QAAE,MAAM;QAAQ,SAAS;IAAM;AACxC;AAEO,MAAM,mBAAmB,CAAC,EAAE,QAAQ,EAA2B;;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2KAAU,EAAC,SAAS;QAAE,MAAM,EAAE;QAAE,SAAS;IAAK;IACxE,MAAM,EACJ,IAAI,GAAG,EACP,iBAAiB,cAAc,EAC/B,iBAAiB,WAAW,EAC7B,GAAG,IAAA,mIAAM;IACV,MAAM,gBAAgB,IAAA,uKAAM,EAAyB;IAErD,MAAM,iBAAiB,IAAA,4KAAW;wDAAC,CAAC;YAClC,SAAS;QACX;uDAAG,EAAE;IAEL,MAAM,YAAY,IAAA,4KAAW;mDAC3B,CACE,OACA,SACA,WACA;YAEA,IAAI,CAAC,SAAS,CAAC,SAAS;YACxB,IAAA,4IAAQ,EAAC,SAAS,OAAO,WAAW,SACjC,IAAI;2DAAC,CAAC;oBACL,IAAI,cAAc,OAAO,EAAE;wBACzB,cAAc,OAAO,CAAC,KAAK;oBAC7B;oBACA,QAAQ,GAAG,CAAC;oBACZ,eAAe,IAAI,IAAI;oBACvB,YAAY,KAAK,IAAI,IAAI,EAAE,OAAO,UAAU,WACzC,IAAI;mEAAC;4BACJ,QAAQ,GAAG,CAAC;wBACd;kEACC,KAAK;mEAAC,CAAC;4BACN,QAAQ,GAAG,CAAC,uBAAuB;wBACrC;;gBACJ;0DACC,KAAK,CAAC,QAAQ,KAAK;QACxB;kDACA;QAAC;QAAK;QAAgB;KAAY;IAGpC,MAAM,WAAW,IAAA,4KAAW;kDAC1B,CACE,SACA,OACA,WACA;YAEA,UAAU,OAAO,SAAS,WAAW;QACvC;iDACA;QAAC;KAAU;IAGb,MAAM,SAAS,IAAA,wKAAO;4CACpB,IAAM,CAAC;gBACL,GAAG,KAAK;gBACR;YACF,CAAC;2CACD;QAAC;QAAO;KAAS;IAGnB,IAAA,0KAAS;sCAAC;YACR,MAAM,aAAc,cAAc,OAAO,GAAG,IAAI;YAChD,IAAI,KAAK;gBACP,MAAM,UAAU,IAAA,4IAAS,EAAC;gBAC1B,eAAe,KAAK,OAAO,UAAU,WAAW,MAAM,EACnD,IAAI;kDAAC,CAAC;wBACL,IAAI,OAAO,IAAI,MAAM,KAAK,GAAG;4BAC3B,MAAM,QAAQ,KAAK,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI;4BACpC,QAAQ,GAAG,CAAC,qBAAqB;4BACjC,IAAI,MAAM,MAAM,KAAK,GAAG;gCACtB,eAAe;gCACf,cAAc,OAAO,GAAG;4BAC1B;wBACF;oBACF;iDACC,KAAK;kDAAC,CAAC;wBACN,QAAQ,GAAG,CAAC,8BAA8B;oBAC5C;;YACJ;YACA;8CAAO,IAAM,WAAW,KAAK;;QAC/B;qCAAG;QAAC;QAAK;QAAgB;KAAe;IAExC,qBAAO,6LAAC,IAAI,QAAQ;QAAC,OAAO;kBAAS;;;;;;AACvC;GApFa;;QAMP,mIAAM;;;KANC;AAsFb,MAAM,oBAAM,IAAA,8KAAa,EAAC;;AACnB,MAAM,oBAAoB;;IAAM,OAAA,IAAA,2KAAU,EAAC;AAAG;IAAxC"}},
    {"offset": {"line": 2670, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/utils/getStartEndOfMonth.ts"],"sourcesContent":["export const getStartEndOfMonth = (theDay: string | Date) => {\n  const startDate = new Date(\n    new Date(theDay).getFullYear(),\n    new Date(theDay).getMonth(),\n    1,\n    0,\n    0,\n    0,\n  );\n  const endDate = new Date(\n    new Date(theDay).getFullYear(),\n    new Date(theDay).getMonth() + 1,\n    0,\n    23,\n    59,\n    59,\n  );\n  return { startDate, endDate };\n};\n"],"names":[],"mappings":";;;;AAAO,MAAM,qBAAqB,CAAC;IACjC,MAAM,YAAY,IAAI,KACpB,IAAI,KAAK,QAAQ,WAAW,IAC5B,IAAI,KAAK,QAAQ,QAAQ,IACzB,GACA,GACA,GACA;IAEF,MAAM,UAAU,IAAI,KAClB,IAAI,KAAK,QAAQ,WAAW,IAC5B,IAAI,KAAK,QAAQ,QAAQ,KAAK,GAC9B,GACA,IACA,IACA;IAEF,OAAO;QAAE;QAAW;IAAQ;AAC9B"}},
    {"offset": {"line": 2689, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/hooks/usePrepareData.ts"],"sourcesContent":["'use client';\n\nimport { useGroupCtx } from '@/context/GroupProvider';\nimport { useGetSpendingCtx } from '@/context/SpendingProvider';\nimport { useUserConfigCtx } from '@/context/UserConfigProvider';\nimport { createGroup } from '@/services/groupServices';\nimport { getStartEndOfMonth } from '@/utils/getStartEndOfMonth';\nimport { getCookie } from '@/utils/handleCookie';\nimport { useEffect } from 'react';\n\nexport const usePrepareData = () => {\n  const { syncGroup, groups, setCurrentGroup, currentGroup, loading } =\n    useGroupCtx();\n  const { config: userData, syncUser } = useUserConfigCtx();\n  const { syncData } = useGetSpendingCtx();\n\n  useEffect(() => {\n    console.log('Syncing groups for user', userData?.user_id);\n    if (userData?.user_id) {\n      syncGroup(userData.user_id);\n    }\n  }, [userData?.user_id, syncGroup]);\n\n  useEffect(() => {\n    console.log('Checking to set default current group', {\n      groups,\n      currentGroup,\n    });\n    if (groups.length > 0 && !currentGroup) {\n      const currentGroupId = getCookie('currentGroupId');\n      const defaultGroup = currentGroupId\n        ? groups.find((group) => String(group.account_id) === currentGroupId)\n        : groups.sort(\n            (a, b) =>\n              (a.created_at ? new Date(a.created_at).getTime() : 0) -\n              (b.created_at ? new Date(b.created_at).getTime() : 0),\n          )[0];\n      console.log('Setting default current group', defaultGroup);\n      setCurrentGroup(defaultGroup);\n    }\n  }, [groups, setCurrentGroup, currentGroup]);\n\n  useEffect(() => {\n    if (!loading && groups.length === 0 && userData?.user_id) {\n      // If no groups exist, create a default group\n      const newGroup = {\n        name: `${userData.name} ÁöÑÂÄã‰∫∫Â∏≥Êú¨`,\n        owner_id: userData.user_id,\n      };\n      createGroup(newGroup).then((res) => {\n        if (res.status) {\n          syncGroup(userData.user_id);\n        }\n      });\n    }\n  }, [loading, groups.length, userData?.user_id, syncGroup, userData?.name]);\n\n  useEffect(() => {\n    console.log('Preparing data for', {\n      email: userData?.email,\n      group: currentGroup?.account_id,\n    });\n    if (userData?.email && currentGroup?.account_id) {\n      const { startDate, endDate } = getStartEndOfMonth(new Date());\n      syncData(\n        String(currentGroup.account_id),\n        userData.email,\n        startDate.toISOString(),\n        endDate.toISOString(),\n      );\n    }\n  }, [userData?.email, syncData, currentGroup?.account_id]);\n\n  useEffect(() => {\n    syncUser();\n  }, [syncUser]);\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AARA;;;;;;;;AAUO,MAAM,iBAAiB;;IAC5B,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,eAAe,EAAE,YAAY,EAAE,OAAO,EAAE,GACjE,IAAA,kJAAW;IACb,MAAM,EAAE,QAAQ,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAA,4JAAgB;IACvD,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,2JAAiB;IAEtC,IAAA,0KAAS;oCAAC;YACR,QAAQ,GAAG,CAAC,2BAA2B,UAAU;YACjD,IAAI,UAAU,SAAS;gBACrB,UAAU,SAAS,OAAO;YAC5B;QACF;mCAAG;QAAC,UAAU;QAAS;KAAU;IAEjC,IAAA,0KAAS;oCAAC;YACR,QAAQ,GAAG,CAAC,yCAAyC;gBACnD;gBACA;YACF;YACA,IAAI,OAAO,MAAM,GAAG,KAAK,CAAC,cAAc;gBACtC,MAAM,iBAAiB,IAAA,4IAAS,EAAC;gBACjC,MAAM,eAAe,iBACjB,OAAO,IAAI;gDAAC,CAAC,QAAU,OAAO,MAAM,UAAU,MAAM;iDACpD,OAAO,IAAI;gDACT,CAAC,GAAG,IACF,CAAC,EAAE,UAAU,GAAG,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO,KAAK,CAAC,IACpD,CAAC,EAAE,UAAU,GAAG,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO,KAAK,CAAC;8CACvD,CAAC,EAAE;gBACR,QAAQ,GAAG,CAAC,iCAAiC;gBAC7C,gBAAgB;YAClB;QACF;mCAAG;QAAC;QAAQ;QAAiB;KAAa;IAE1C,IAAA,0KAAS;oCAAC;YACR,IAAI,CAAC,WAAW,OAAO,MAAM,KAAK,KAAK,UAAU,SAAS;gBACxD,6CAA6C;gBAC7C,MAAM,WAAW;oBACf,MAAM,GAAG,SAAS,IAAI,CAAC,MAAM,CAAC;oBAC9B,UAAU,SAAS,OAAO;gBAC5B;gBACA,IAAA,kJAAW,EAAC,UAAU,IAAI;gDAAC,CAAC;wBAC1B,IAAI,IAAI,MAAM,EAAE;4BACd,UAAU,SAAS,OAAO;wBAC5B;oBACF;;YACF;QACF;mCAAG;QAAC;QAAS,OAAO,MAAM;QAAE,UAAU;QAAS;QAAW,UAAU;KAAK;IAEzE,IAAA,0KAAS;oCAAC;YACR,QAAQ,GAAG,CAAC,sBAAsB;gBAChC,OAAO,UAAU;gBACjB,OAAO,cAAc;YACvB;YACA,IAAI,UAAU,SAAS,cAAc,YAAY;gBAC/C,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,IAAA,2JAAkB,EAAC,IAAI;gBACtD,SACE,OAAO,aAAa,UAAU,GAC9B,SAAS,KAAK,EACd,UAAU,WAAW,IACrB,QAAQ,WAAW;YAEvB;QACF;mCAAG;QAAC,UAAU;QAAO;QAAU,cAAc;KAAW;IAExD,IAAA,0KAAS;oCAAC;YACR;QACF;mCAAG;QAAC;KAAS;AACf;GAlEa;;QAET,kJAAW;QAC0B,4JAAgB;QAClC,2JAAiB"}},
    {"offset": {"line": 2809, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/composites/PrepareData.tsx"],"sourcesContent":["'use client';\n\nimport { usePrepareData } from '@/hooks/usePrepareData';\n\nexport const PrepareData = () => {\n  usePrepareData();\n  return <></>;\n};\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIO,MAAM,cAAc;;IACzB,IAAA,mJAAc;IACd,qBAAO;AACT;GAHa;;QACX,mJAAc;;;KADH"}},
    {"offset": {"line": 2839, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/hooks/useDate.ts"],"sourcesContent":["'use client';\n\nimport { useSession } from 'next-auth/react';\nimport { Dispatch, SetStateAction, useEffect, useRef, useState } from 'react';\n\nexport const useDate = (\n  init?: Date,\n): [Date, Dispatch<SetStateAction<Date>>] => {\n  const { data } = useSession();\n  const [date, setDate] = useState<Date>(init ?? new Date());\n  const currentDateRef = useRef(init ?? new Date());\n\n  useEffect(() => {\n    if (currentDateRef.current.getDate() !== new Date().getDate()) {\n      setDate(new Date());\n      currentDateRef.current = new Date();\n    }\n  }, [data]);\n\n  return [date, setDate];\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAKO,MAAM,UAAU,CACrB;;IAEA,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,sJAAU;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAO,QAAQ,IAAI;IACnD,MAAM,iBAAiB,IAAA,uKAAM,EAAC,QAAQ,IAAI;IAE1C,IAAA,0KAAS;6BAAC;YACR,IAAI,eAAe,OAAO,CAAC,OAAO,OAAO,IAAI,OAAO,OAAO,IAAI;gBAC7D,QAAQ,IAAI;gBACZ,eAAe,OAAO,GAAG,IAAI;YAC/B;QACF;4BAAG;QAAC;KAAK;IAET,OAAO;QAAC;QAAM;KAAQ;AACxB;GAfa;;QAGM,sJAAU"}},
    {"offset": {"line": 2881, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/context/DateProvider.tsx"],"sourcesContent":["'use client';\n\nimport { useDate } from '@/hooks/useDate';\nimport { createContext, ReactNode, useContext, useMemo } from 'react';\n\ninterface CtxValue {\n  date: Date;\n  setDate: (date: Date) => void;\n}\n\nexport const DateProvider = ({ children }: { children: ReactNode }) => {\n  const [date, setDate] = useDate(new Date());\n\n  const ctxValue = useMemo(\n    () => ({\n      date,\n      setDate,\n    }),\n    [date, setDate],\n  );\n\n  return <Ctx.Provider value={ctxValue}>{children}</Ctx.Provider>;\n};\n\nconst Ctx = createContext<CtxValue>({\n  date: new Date(),\n  setDate: () => {},\n});\n\nexport const useDateCtx = () => useContext(Ctx);\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAUO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,qIAAO,EAAC,IAAI;IAEpC,MAAM,WAAW,IAAA,wKAAO;0CACtB,IAAM,CAAC;gBACL;gBACA;YACF,CAAC;yCACD;QAAC;QAAM;KAAQ;IAGjB,qBAAO,6LAAC,IAAI,QAAQ;QAAC,OAAO;kBAAW;;;;;;AACzC;GAZa;;QACa,qIAAO;;;KADpB;AAcb,MAAM,oBAAM,IAAA,8KAAa,EAAW;IAClC,MAAM,IAAI;IACV,SAAS,KAAO;AAClB;AAEO,MAAM,aAAa;;IAAM,OAAA,IAAA,2KAAU,EAAC;AAAG;IAAjC"}}]
}