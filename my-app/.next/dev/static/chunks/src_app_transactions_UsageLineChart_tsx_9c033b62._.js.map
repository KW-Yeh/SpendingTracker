{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kw_yeh/Desktop/SpendingTracker/my-app/src/app/transactions/UsageLineChart.tsx"],"sourcesContent":["'use client';\n\nimport { normalizeNumber } from '@/utils/normalizeNumber';\nimport { startTransition, useEffect, useState } from 'react';\nimport {\n  Area,\n  AreaChart,\n  DefaultTooltipContentProps,\n  ResponsiveContainer,\n  Tooltip,\n} from 'recharts';\nimport { CategoricalChartState } from 'recharts/types/chart/types';\n\ninterface Props {\n  month: number;\n  data: number[];\n  init: number[];\n  isMobile: boolean;\n  handleOnClick: (state: CategoricalChartState) => void;\n}\n\ntype DataType = {\n  date: string;\n  cumulation: number;\n  cost: number;\n};\n\nconst UsageLineChart = (props: Props) => {\n  const { init, month, data, isMobile, handleOnClick } = props;\n  const [dataList, setDataList] = useState<DataType[]>(formatData(init, month));\n\n  useEffect(() => {\n    startTransition(() => {\n      setDataList(formatData(data, month));\n    });\n  }, [data, month]);\n\n  return (\n    <ResponsiveContainer width=\"100%\" height={isMobile ? 150 : 200}>\n      <AreaChart data={dataList} onClick={handleOnClick}>\n        <defs>\n          <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n            <stop\n              offset=\"5%\"\n              stopColor=\"hsl(256, 60%, 70%)\"\n              stopOpacity={0.8}\n            />\n            <stop offset=\"95%\" stopColor=\"hsl(256, 60%, 70%)\" stopOpacity={0} />\n          </linearGradient>\n        </defs>\n        <Area\n          dataKey=\"cumulation\"\n          stroke=\"hsl(256, 60%, 70%)\"\n          fill=\"url(#colorUv)\"\n          type=\"monotone\"\n          dot={{ stroke: 'hsl(256, 60%, 70%)', r: 1 }}\n        />\n        <Tooltip content={CustomToolTip} />\n      </AreaChart>\n    </ResponsiveContainer>\n  );\n};\n\nexport default UsageLineChart;\n\nfunction formatData(list: number[], month: number) {\n  const result: DataType[] = [];\n  let cumulation = 0;\n  list.forEach((item, index) => {\n    cumulation += item;\n    result.push({\n      date: `${(month + 1).toString().padStart(2, '0')}/${(index + 1).toString().padStart(2, '0')}`,\n      cumulation: cumulation,\n      cost: item,\n    });\n  });\n  return result;\n}\n\nconst CustomToolTip = (props: DefaultTooltipContentProps<string, string>) => {\n  if (!props.payload) return null;\n  const payload = props.payload[0]?.payload;\n  if (!payload) return null;\n  return (\n    <div className=\"bg-background flex flex-col rounded p-2 text-xs shadow\">\n      <span className=\"text-primary-700\">\n        花費：${normalizeNumber(payload.cost)}\n      </span>\n      <span className=\"text-xs\">{payload.date}</span>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;;;AAJA;;;;AA2BA,MAAM,iBAAiB,CAAC;;IACtB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG;IACvD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAa,WAAW,MAAM;IAEtE,IAAA,0KAAS;oCAAC;YACR,IAAA,gLAAe;4CAAC;oBACd,YAAY,WAAW,MAAM;gBAC/B;;QACF;mCAAG;QAAC;QAAM;KAAM;IAEhB,qBACE,6LAAC,6LAAmB;QAAC,OAAM;QAAO,QAAQ,WAAW,MAAM;kBACzD,cAAA,6LAAC,qKAAS;YAAC,MAAM;YAAU,SAAS;;8BAClC,6LAAC;8BACC,cAAA,6LAAC;wBAAe,IAAG;wBAAU,IAAG;wBAAI,IAAG;wBAAI,IAAG;wBAAI,IAAG;;0CACnD,6LAAC;gCACC,QAAO;gCACP,WAAU;gCACV,aAAa;;;;;;0CAEf,6LAAC;gCAAK,QAAO;gCAAM,WAAU;gCAAqB,aAAa;;;;;;;;;;;;;;;;;8BAGnE,6LAAC,+JAAI;oBACH,SAAQ;oBACR,QAAO;oBACP,MAAK;oBACL,MAAK;oBACL,KAAK;wBAAE,QAAQ;wBAAsB,GAAG;oBAAE;;;;;;8BAE5C,6LAAC,qKAAO;oBAAC,SAAS;;;;;;;;;;;;;;;;;AAI1B;GAlCM;KAAA;uCAoCS;AAEf,SAAS,WAAW,IAAc,EAAE,KAAa;IAC/C,MAAM,SAAqB,EAAE;IAC7B,IAAI,aAAa;IACjB,KAAK,OAAO,CAAC,CAAC,MAAM;QAClB,cAAc;QACd,OAAO,IAAI,CAAC;YACV,MAAM,GAAG,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;YAC7F,YAAY;YACZ,MAAM;QACR;IACF;IACA,OAAO;AACT;AAEA,MAAM,gBAAgB,CAAC;IACrB,IAAI,CAAC,MAAM,OAAO,EAAE,OAAO;IAC3B,MAAM,UAAU,MAAM,OAAO,CAAC,EAAE,EAAE;IAClC,IAAI,CAAC,SAAS,OAAO;IACrB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAK,WAAU;;oBAAmB;oBAC5B,IAAA,qJAAe,EAAC,QAAQ,IAAI;;;;;;;0BAEnC,6LAAC;gBAAK,WAAU;0BAAW,QAAQ,IAAI;;;;;;;;;;;;AAG7C;MAZM"}}]
}