(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63153,t=>{t.v({dropIn:"YearMonthFilter-module__HsT8ZG__dropIn",dropdownAnimation:"YearMonthFilter-module__HsT8ZG__dropdownAnimation",monthButton:"YearMonthFilter-module__HsT8ZG__monthButton",navButton:"YearMonthFilter-module__HsT8ZG__navButton"})},86780,96133,t=>{"use strict";var e=t.i(43476),r=t.i(3995),a=t.i(47573),n=t.i(6705),i=t.i(71645),l=t.i(40141);function s(t){return(0,l.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"},child:[]}]})(t)}function o(t){return(0,l.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.707 17.707 16.414 12l-5.707-5.707-1.414 1.414L13.586 12l-4.293 4.293z"},child:[]}]})(t)}var d=t.i(63153);t.s(["YearMonthFilter",0,t=>{let l,{refreshData:m,group:c,dateOptions:u,className:g=""}=t,{setYear:x,year:p,setMonth:b,month:h}=u,[y,f]=(0,i.useState)(!1),N=(0,a.default)(()=>{f(!1)});(0,i.useEffect)(()=>{m(c?.account_id?String(c.account_id):void 0,p,h)},[c?.account_id,p,h,m]);let v=n.MONTH_MAP[h];return(0,e.jsxs)("div",{className:`relative w-full md:max-w-80 ${g} transition-all ${y?"border-primary-500 bg-primary-50 text-primary-700 shadow-md":"hover:border-primary-300 hover:bg-primary-50 border-gray-300 bg-white text-gray-800"}`,children:[(0,e.jsxs)("div",{className:"flex w-full items-center gap-2",children:[(0,e.jsx)("button",{type:"button",onClick:()=>{"1"===h?(b("12"),x((Number(p)-1).toString())):b((Number(h)-1).toString()),f(!1)},className:`flex items-center justify-center rounded-full p-1.5 text-gray-600 transition-all hover:bg-gray-100 active:bg-gray-200 ${d.default.navButton}`,"aria-label":"上個月",children:(0,e.jsx)(s,{className:"size-6"})}),(0,e.jsxs)("button",{type:"button",onClick:()=>f(!0),className:"flex flex-1 items-center justify-center gap-3 rounded-lg px-4 py-2",children:[(0,e.jsx)(r.CalendarIcon,{className:"text-primary-500 size-5"}),(0,e.jsxs)("div",{className:"flex items-baseline gap-1.5",children:[(0,e.jsx)("span",{className:"text-lg font-medium",children:v}),(0,e.jsx)("span",{className:"text-sm text-gray-500",children:p})]}),(l=new Date).getFullYear().toString()===p&&(l.getMonth()+1).toString()===h&&(0,e.jsx)("span",{className:"bg-primary-100 text-primary-700 ml-1 rounded-full px-1.5 py-0.5 text-xs font-medium",children:"本月"})]}),(0,e.jsx)("button",{type:"button",onClick:()=>{"12"===h?(b("1"),x((Number(p)+1).toString())):b((Number(h)+1).toString()),f(!1)},className:`flex items-center justify-center rounded-full p-1.5 text-gray-600 transition-all hover:bg-gray-100 active:bg-gray-200 ${d.default.navButton}`,"aria-label":"下個月",children:(0,e.jsx)(o,{className:"size-6"})})]}),(0,e.jsxs)("div",{ref:N,className:`absolute top-full left-1/2 z-20 mt-2 w-72 rounded-lg border border-gray-200 bg-white p-4 shadow-lg ${y?`${d.default.dropdownAnimation} visible opacity-100`:"invisible opacity-0"}`,children:[(0,e.jsxs)("div",{className:"bg-primary-50 mb-4 flex items-center justify-between rounded-md p-2",children:[(0,e.jsx)("button",{onClick:()=>x((Number(p)-1).toString()),className:"flex items-center justify-center rounded-md p-1.5 text-gray-700 transition-all hover:bg-white",children:(0,e.jsx)(s,{className:"size-5"})}),(0,e.jsx)("span",{className:"text-primary-700 text-lg font-bold",children:p}),(0,e.jsx)("button",{onClick:()=>x((Number(p)+1).toString()),className:"flex items-center justify-center rounded-md p-1.5 text-gray-700 transition-all hover:bg-white",children:(0,e.jsx)(o,{className:"size-5"})})]}),(0,e.jsx)("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(n.MONTH_LABEL).map(t=>{let r=n.MONTH_LABEL[t]===h,a=new Date().getFullYear().toString()===p&&n.MONTH_LABEL[t]===(new Date().getMonth()+1).toString();return(0,e.jsxs)("button",{onClick:()=>{b(n.MONTH_LABEL[t]),f(!1)},className:`relative rounded-md px-2 py-2 text-center font-medium transition-all ${d.default.monthButton} ${r?"bg-primary-500 text-white":"hover:bg-primary-100 hover:text-primary-700 text-gray-700"}`,children:[t,a&&!r&&(0,e.jsx)("span",{className:"bg-primary-500 absolute -top-1 -right-1 size-2 rounded-full"})]},t)})}),(0,e.jsxs)("div",{className:"mt-4 flex justify-between border-t border-gray-100 pt-3",children:[(0,e.jsx)("button",{onClick:()=>{x((Number(p)-1).toString())},className:"hover:text-primary-700 text-sm font-medium text-gray-600",children:"去年同月"}),(0,e.jsx)("button",{onClick:()=>{let t=new Date;b((t.getMonth()+1).toString()),x(t.getFullYear().toString()),f(!1)},className:"bg-primary-100 text-primary-700 hover:bg-primary-200 rounded-md px-3 py-1 text-sm font-medium",children:"回到本月"})]})]})]})}],86780),t.s(["useYearMonth",0,t=>{let[e,r]=(0,i.useState)(`${t.getFullYear()}`),[a,n]=(0,i.useState)(`${t.getMonth()+1}`);return{today:new Date(Number(e),Number(a)-1),year:e,setYear:r,month:a,setMonth:n}}],96133)}]);